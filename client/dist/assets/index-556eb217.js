import{c as _e,u as be,a as q,b as de,d as R,j as e,k as M,Q as v,L as Z,F as Q,f as Ye,e as Ge,g as Ke,h as Xe,i as Qe,l as Ze,r as a,m as es,n as ss,o as ts,p as pe,A as as,q as je,B as rs,s as Pe,t as Ee,C as ls,v as ae,w as re,x as le,y as ne,O as ns,N as is,R as ie,z as Te,S as Ue,D as Fe,E as os,G as cs,H as ds,I as ms,J as xs,K as us,M as hs,P as gs,T as fe,U as H,V as me,W as ps,X as fs,Y as I,Z as js,_ as bs,$ as Ns,a0 as vs,a1 as ys,a2 as ws,a3 as ks,a4 as As}from"./vendor-7b6aa3ad.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))g(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&g(d)}).observe(document,{childList:!0,subtree:!0});function h(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function g(n){if(n.ep)return;n.ep=!0;const l=h(n);fetch(n.href,l)}})();const Ss="modulepreload",Cs=function(s){return"/"+s},ye={},Ne=function(r,h,g){if(!h||h.length===0)return r();const n=document.getElementsByTagName("link");return Promise.all(h.map(l=>{if(l=Cs(l),l in ye)return;ye[l]=!0;const d=l.endsWith(".css"),j=d?'[rel="stylesheet"]':"";if(!!g)for(let b=n.length-1;b>=0;b--){const N=n[b];if(N.href===l&&(!d||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${j}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":Ss,d||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),d)return new Promise((b,N)=>{i.addEventListener("load",b),i.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>r()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})},_s={currentUser:null,loading:!1,signinError:null,error:null},Le=_e({name:"user",initialState:_s,reducers:{loddingStart:s=>{s.loading=!0},signinSuccess:(s,r)=>{s.currentUser=r.payload,s.loading=!1,s.signinError=!1},signinFailed:(s,r)=>{s.signinError=r.payload,s.loading=!1},userUpdateSuccess:(s,r)=>{s.currentUser=r.payload,s.loading=!1,s.error=!1},userUpdateFailed:(s,r)=>{s.loading=!1,s.error=r.payload},userDeleteSuccess:s=>{s.loading=!1,s.currentUser=null,s.error=!1},userDeleteFail:(s,r)=>{s.loading=!1,s.error=r.payload},signoutSuccess:s=>{s.loading=!1,s.currentUser=null,s.error=!1},signoutFailed:(s,r)=>{s.loading=!1,s.error=r.payload}}}),{loddingStart:De,signinSuccess:Ps,signinFailed:we,userUpdateFailed:ke,userUpdateSuccess:Es,userDeleteStart:lt,userDeleteSuccess:nt,userDeleteFail:it,signoutSuccess:Ae,signoutFailed:Se}=Le.actions,Ts=Le.reducer,Us=()=>{const{register:s,handleSubmit:r,formState:{errors:h}}=be(),g=q(),n=de(),{loading:l}=R(j=>j.user),d=async j=>{n(De());try{const i=await(await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).json();console.log(i),i.success===!1&&(n(we(i.message)),v.error(i.message,{autoClose:2e3})),i.role==="admin"?(n(Ps(i)),g("/profile")):(alert("not allowed"),window.location.reload())}catch(o){n(we(o.message)),v.error(userData.message,{autoClose:2e3})}};return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:r(d),children:[e.jsx("input",{...s("email",{required:!0}),type:"email",placeholder:"Email",className:"form_input mt-5"}),h.email&&e.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),e.jsx("input",{...s("userPassword",{required:!0}),type:"password",placeholder:"Password",className:"form_input mt-5"}),h.password&&e.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),e.jsx("button",{type:"submit",disabled:l,className:"btn bg-[#3A5A40] text-white mt-5 rounded-md w-full hover:bg-[#3A5A40]/[.90]",children:l?"Loading...":"Login"})]}),e.jsx(M,{limit:0})]})},Fs="/assets/close-7102505b.svg",Ls="/assets/hamburgerMenu-688e0e93.svg",Ie="/assets/logo-e17a09a4.webp",xe=()=>{const s=new Date().getFullYear();return e.jsxs("footer",{className:"bg-gradient-to-r from-slate-300 to-slate-200 mt-16 pt-20 p-10 font-sans tracking-wide",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{className:"lg:flex lg:items-center flex-col",children:[e.jsx(Z,{to:"#",children:e.jsx("img",{src:Ie,alt:"logo",className:"mx-auto",loading:"lazy"})}),e.jsx("p",{className:"mt-4 text-black",children:"Notre vision est de fournir des outils fiables pour des créations sans limites."})]}),e.jsxs("nav",{children:[e.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:"Liens"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx(Z,{to:"/",className:"text-black hover:text-black text-sm font-bold",children:"ACCUEIL"})}),e.jsx("li",{children:e.jsx(Z,{to:"/about",className:"text-black hover:text-black text-sm font-bold",children:"A PROPOS"})}),e.jsx("li",{children:e.jsx(Z,{to:"/searchProject",className:"text-black hover:text-black text-sm font-bold",children:"NOS PROJETS"})}),e.jsx("li",{children:e.jsx(Z,{to:"/contact",className:"text-black hover:text-black text-sm font-bold",children:"CONTACT"})})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:"Contact"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-sm font-bold",children:"cogebimmobiliere@gmail.com"})}),e.jsx("li",{children:e.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-sm font-bold",children:"+216 73 323 435"})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-black hover:text-black text-sm font-bold",children:[e.jsx(Q,{icon:Ye})," Avenue de l'environnement, Sousse, Tunisia, 4000"]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-black text-lg font-bold mb-6",children:"Suivez-nous"}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(Q,{icon:Ge})}),e.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(Q,{icon:Ke})}),e.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-2xl",children:e.jsx(Q,{icon:Xe})})]}),e.jsx("p",{className:"mt-4 text-sm text-black",children:"Restez connectés avec nous pour des mises à jour et des offres exclusives."}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[e.jsx("a",{href:"https://wa.me/21673323435",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(Q,{icon:Qe})}),e.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-2xl",children:e.jsx(Q,{icon:Ze})})]})]})]}),e.jsxs("p",{className:"text-black-300 text-center text-sm mt-10",children:["© Copyright ",s," by cogeb-immobiliere. All rights reserved."]})]})},Ds=()=>(a.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsx("section",{className:"form-section py-10 md:py-20 ",children:e.jsx("div",{className:"container ",children:e.jsxs("div",{className:"form-container px-4 sm:px-8 bg-white py-6 pb-8 sm:py-9 sm:pb-12 max-w-lg mx-auto rounded-sm border-[1px] border-[#3A5A40]/50 shadow-brand shadow-[#3A5A40]/40",children:[e.jsx("h1",{className:"text-left text-[#3A5A40] mb-3 font-medium font-heading text-md sm:text-xl",children:"Login"}),e.jsx(Us,{}),e.jsx(M,{limit:0})]})})}),e.jsx(xe,{})]})),Is={apiKey:"AIzaSyB8X4k_NZ4aKLwsXvB0IViv3c-w6EJv_A0",authDomain:"cogeb-property-sale-3f10a.firebaseapp.com",projectId:"cogeb-property-sale-3f10a",storageBucket:"gs://cojeb-property-sale-3f10a.appspot.com",messagingSenderId:"483531472357",appId:"1:483531472357:web:b1d4be16d4abbbf5cbc30c",measurementId:"G-85NW2J18MH"},Re=es(Is);ss(Re);const oe=Re,Rs=({projectInfo:s})=>{if(!s||!s.project)return e.jsx("div",{children:"Project data is missing"});const{address:r,etat:h,description:g,furnished:n,imgUrl:l,parking:d,title:j,_id:o,bureau:i,area:b}=s.project,N=q();return e.jsxs("div",{className:"rounded-md bg-white shadow-lg hover:shadow-xl",children:[e.jsxs("div",{onClick:()=>N(`/projects/${o}`),className:"relative flex items-end overflow-hidden rounded-md h-[200px] cursor-pointer",children:[e.jsx("img",{className:"hover:scale-105 object-cover h-full w-full duration-300",src:l[0],alt:"wallpaper",loading:"lazy"}),e.jsx("div",{className:"absolute bottom-3 left-3 inline-flex items-center rounded-sm bg-[#3A5A40] px-2 py-1 shadow-md",children:e.jsx("span",{className:"text-xs text-white uppercase font-bold",children:h==="future"?"Future":h==="en cours"?"En cours":h==="terminee"?"Terminé":""})}),e.jsx("div",{className:"absolute bottom-3 right-3 inline-flex items-center rounded-sm px-2 py-1",children:e.jsxs("span",{className:"text-xs text-white uppercase font-bold flex items-center",children:[e.jsx(ts,{className:"mr-1"}),l.length]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{onClick:()=>N(`/projects/${o}`),className:"cursor-pointer",children:[e.jsx("h2",{className:"text-[#3A5A40] font-bold text-xl truncate cursor-pointer",children:j}),e.jsxs("p",{className:"mt-2 text-sm text-[#3A5A40] font-content font-bold truncate",children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",r]}),e.jsx("div",{className:"mt-3 flex items-end justify-start",children:e.jsx("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:e.jsx("span",{className:"font-bold font-bold mr-1",children:h})})}),e.jsxs("div",{className:"mt-2 flex items-end justify-start",children:[e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(pe,{className:`mr-1 mt-[2px] ${d?"text-green-600":"text-gray-400"}`}),"parking"]}),e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(pe,{className:`mr-1 mt-[2px] ${n?"text-green-600":"text-gray-400"}`}),"Espace Comercial"]}),e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(pe,{className:`mr-1 mt-[2px] ${i?"text-green-600":"text-gray-400"}`}),"Bureau"]})]}),e.jsx("div",{className:"mt-3 flex items-end justify-between",children:e.jsx("div",{className:"inline-flex rounded-xl max-w-[150px] duration-500",children:e.jsxs("p",{className:"font-bold text-lg truncate",children:[b||0,"  ",e.jsx("span",{className:"font-content",children:" appartements"})]})})})]}),e.jsxs("div",{className:"mt-4 flex items-end justify-between",children:[e.jsx("button",{onClick:()=>N(`/update_project/${o}`),className:"bg-[#3A5A40] rounded-sm py-2 px-7 font-bold text-white hover:opacity-95 text-sm",children:"Modifier"}),e.jsx("button",{onClick:()=>s.handleProjectDelete(o),className:"bg-red-800 py-2 px-5 rounded-sm font-bold text-white hover:opacity-95 text-sm z-10",children:"Supprimer"})]})]})]})},ce=()=>e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx("p",{className:"loading mt-20 loading-infinity h-20 w-20  text-[#3A5A40]"})}),$s={searchTermState:""},$e=_e({name:"search",initialState:$s,reducers:{setSearchTermState:(s,r)=>{s.searchTermState=r.payload}}}),{setSearchTermState:Ce}=$e.actions,Os=$e.reducer,zs=()=>{const[s,r]=a.useState(!1),[h,g]=a.useState(!1),[n,l]=a.useState({imgUrl:[]}),[d,j]=a.useState({}),o=async t=>{if(t.preventDefault(),n.imgUrl.length>0){const f=n.imgUrl[0],U=ae(oe),se=new Date().getTime()+f.name,X=re(U,se),z=le(X,f);z.on("state_changed",B=>{const J=B.bytesTransferred/B.totalBytes*100;console.log("Upload is "+J+"% done")},B=>{console.error("Upload error:",B),v.error("File upload failed")},()=>{ne(z.snapshot.ref).then(async B=>{try{const J={...n,imgUrl:B};console.log("Data to be sent:",J);const ge=await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)});if(!ge.ok){const We=await ge.json();throw new Error(We.message||"Failed to add partner")}const ve=await ge.json();ve.success?v.success("Partenaire ajouté avec succès"):v.error(`Failed to add partner: ${ve.message}`)}catch(J){v.error(`An error occurred: ${J.message}`),console.error("Error details:",J)}})})}else v.error("Please upload an image");r(!1)},i=t=>{const f=Array.from(t.target.files);l({...n,imgUrl:f})};a.useEffect(()=>{window.scrollTo(0,0)},[]);const[b,N]=a.useState(1),{currentUser:P}=R(t=>t.user),[w,m]=a.useState(void 0),[x,A]=a.useState(0),[$,F]=a.useState(!1),[L,u]=a.useState({}),[c,T]=a.useState(1),W=5,{searchTermState:D}=R(t=>t.search),[k,Y]=a.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),y=de(),C=(t,f)=>{N(1),Y({...k,[t]:f})},[_,G]=a.useState({isProjectExist:!1,projects:[]}),[K,O]=a.useState(!1),p=a.useRef(null),{loading:S}=R(t=>t.user),E=q(),ue=t=>{if(t){const f=ae(oe),U=new Date().getTime()+t.name,se=re(f,U),X=le(se,t);X.on("state_changed",z=>{const B=z.bytesTransferred/z.totalBytes*100;A(Math.round(B))},z=>{F(!0)},()=>{ne(X.snapshot.ref).then(z=>{u({...L,avatar:z})})})}};a.useEffect(()=>{ue(w)},[w]);const ee=t=>{u({...L,[t.target.name]:t.target.value})},he=async t=>{t.preventDefault();try{y(De());const U=await(await fetch(`api/users/update/${P._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)})).json();U.success===!1?(y(ke(U.message)),v.error(U.message,{autoClose:5e3})):(y(Es(U)),v.success("Profile updated successfully",{autoClose:2e3}))}catch(f){y(ke(f.message)),v.error(f.message,{autoClose:2e3})}},te=async()=>{try{const f=await(await fetch("api/auth/signout")).json();f.success===!1?(y(Se(f.message)),v.error(f.message,{autoClose:2e3})):(y(Ae()),y(clearSavedListing()))}catch(t){y(Se(t.message)),v.error(t.message,{autoClose:2e3})}},V=async()=>{try{O(!0);const f=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/search?searchTerm=${D}&etat=${k.etat}&parking=${k.parking}&furnished=${k.furnished}&bureau=${k.bureau}&page=${b}`)).json();f.success===!1?(v.error(f.message,{autoClose:2e3}),O(!1),y(Ae())):(G({..._,isProjectExist:!0,projects:f}),O(!1))}catch(t){v.error(t.message,{autoClose:2e3}),O(!1)}};a.useEffect(()=>{V()},[k,D]);const Be=async()=>{try{const f=await(await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/partners/")).json();j(f)}catch(t){v.error(t.message,{autoClose:2e3})}};a.useEffect(()=>{Be()},[d]);const Me=async t=>{try{const U=await(await fetch(`api/partners/${t}`,{method:"DELETE"})).json();U.success===!1?v.error(U.message,{autoClose:2e3}):alert("partenaire éffacée")}catch(f){v.error(f.message,{autoClose:2e3})}},qe=async t=>{try{const U=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${t}`,{method:"DELETE"})).json();if(U.success===!1)v.error(U.message,{autoClose:2e3});else{const se=_.projects.filter(X=>X._id!==t);G({..._,projects:se}),v.success(U,{autoClose:2e3})}}catch(f){v.error(f.message,{autoClose:2e3})}},Ve=t=>{const f=(c-1)*W;return t.slice(f,f+W)},Je=()=>{T(t=>t+1)},He=()=>{T(t=>t>1?t-1:1)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsxs("div",{className:"max-w-7xl sm:max-w-full mx-auto grid md:gap-6 temp lg:grid-cols-4  md:grid-cols-5 grid-cols-1 items-start",children:[e.jsxs("div",{className:"profile_info p-5 bg-white  w-full  md:col-span-2 lg:col-span-1  md:max-h-full md:min-h-screen h-full col-span-1 ",children:[e.jsxs("form",{className:"w-full",onSubmit:he,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"image_container w-full flex items-center justify-center  relative max-w-[100px] mx-auto",children:[e.jsx("input",{onChange:t=>m(t.target.files[0]),hidden:!0,accept:"image/*",type:"file",name:"profile",id:"profile_image",ref:p}),e.jsx("img",{src:L.avatar||P.avatar,onClick:()=>p.current.click(),className:"h-20 w-20 mb-3 rounded-full border-[1px]  border-[#3A5A40]",alt:"profile image",loading:"lazy"}),e.jsx("i",{className:"h-4 w-4 rounded-full flex items-center justify-center bg-[#3A5A40] text-white absolute bottom-2 right-0",children:e.jsx(as,{})})]}),$?e.jsx("p",{className:"text-xs text-red-700 font-medium text-center",children:"File upload failed"}):x>0&&x<100?e.jsxs("p",{className:"text-xs text-black font-medium text-center",children:["File uploading...",x,"%"]}):x===100&&e.jsx("p",{className:"text-xs text-green-600 font-medium text-center",children:"File uploaded!!!"})]}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Nom d'utilisateur"}),e.jsx("input",{defaultValue:P.username,name:"username",type:"text",placeholder:"Username",className:"form_input bg-slate-200 rounded-md !pl-3 mt-1 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:ee}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Email"}),e.jsx("input",{defaultValue:P.email,name:"email",type:"email",placeholder:"email",className:"  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:ee}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Mot de Passe"}),e.jsx("input",{type:"password",name:"password",placeholder:"Mot de Passe",className:"mt-1  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40]",onChange:ee}),e.jsx("button",{disabled:S,type:"submit",className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:S?"Loading...":"Enregistrer"})]}),e.jsx("button",{onClick:te,className:"py-2 px-5 bg-red-800 text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:"Deconnexion"}),e.jsx("div",{className:"h-[1px] bg-black w-full mt-3"}),e.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>g(!0),children:"Tout partenaires"}),e.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>r(!0),children:"Ajouter partenaires"})]}),S&&e.jsx(ce,{}),e.jsx("div",{id:"adminAdd",className:"mt-5 md:mt-0 col-span-3 post_section profile_info p-2 flex flex-col   bg-transparent  w-full overflow-y-auto",children:e.jsx("div",{id:"Projects",className:"",children:K?e.jsxs("div",{children:[e.jsx(ce,{}),e.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your projects"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"",children:e.jsx("form",{children:e.jsxs("div",{className:"grid grid-cols-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-lg font-heading ",children:" type:"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10  pt-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"all",onChange:t=>C(t.target.name,t.target.value),checked:k.etat==="all"}),"Tout"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"future",onChange:t=>C(t.target.name,t.target.value),checked:k.etat==="future"}),"Future"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"en cours",onChange:t=>C(t.target.name,t.target.value),checked:k.etat==="en cours"}),"En Cours"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"terminee",onChange:t=>C(t.target.name,t.target.value),checked:k.etat==="terminee"}),"Réalisé"]})})]})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("p",{className:"text-lg font-heading",children:"Amenities:"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10 pt-2",children:[e.jsx("div",{className:"mr-5",children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"parking",onChange:t=>C(t.target.name,t.target.checked),checked:k.parking}),"Parking"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"furnished",onChange:t=>C(t.target.name,t.target.checked),checked:k.furnished}),"Espace Comercial"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"bureau",onChange:t=>C(t.target.name,t.target.checked),checked:k.bureau}),"Bureau"]})})]})]}),e.jsx("div",{className:"btn_cotainer ",children:e.jsx("button",{className:"w-full mt-4 py-2 px-2 bg-[#3A5A40] text-white  hover:bg-[#3A5A40]/90 rounded-lg",type:"submit",children:e.jsxs("span",{className:"flex items-center justify-center font-heading text-lg",children:[e.jsx(je,{className:"mr-1"}),"Effacer Recherche"]})})})]})})}),e.jsxs("div",{className:"grid post_card grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-6 md:h-full overflow-scroll pb-10 px-4 scrollbar-hide md:pt-5",children:[e.jsx("div",{className:"cursor-pointer rounded-md  bg-white  shadow-lg hover:shadow-xl",children:e.jsxs("button",{onClick:()=>E("/create_project"),type:"submit",className:" px-5 bg-slate-300 font-heading shadow-lg text-black text-lg  rounded-sm hover:opacity-95 w-full h-full flex justify-center items-center flex-col py-10 sm:py-10",children:[e.jsx(rs,{className:"text-center md:mb-3 md:text-5xl text-black text-sm sm:text-xl"}),"Créer Projet"]})}),_.isProjectExist&&Ve(_.projects.map(t=>e.jsx(Rs,{projectInfo:{project:t,handleProjectDelete:qe}},t._id)))]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{className:`join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 
                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]
                                                    `,onClick:He,disabled:c===1,children:e.jsx(Pe,{})}),e.jsxs("button",{className:"join-item btn bg-[#3A5A40] hover:bg-[#3A5A40] cursor-default text-white",children:["Page ",c," /"," ",_.projects.length%5==0?Math.floor(_.projects.length/5):Math.floor(_.projects.length/5)+1]}),e.jsx("button",{className:`join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 
                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]
                                                    `,onClick:Je,disabled:c===Math.ceil(_.projects.length/W),children:e.jsx(Ee,{})})]})]})})}),e.jsx(M,{}),s&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4 max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Partner"}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Partner Image"}),e.jsx("input",{type:"file",multiple:!0,className:"w-full px-4 py-2 border rounded",onChange:i})]}),e.jsxs("div",{className:" items-center text-center",children:[e.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-[#3A5A40] rounded text-white mx-5",children:"Add Partner"}),e.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>r(!1),children:"Cancel"})]})]})]})}),e.jsx(M,{}),h&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 py-16",children:e.jsxs("div",{className:"bg-white rounded-lg  space-y-4 w-full h-full mx-16  text-center",children:[e.jsx("h2",{className:"text-xl font-bold   rounded-b-xl pt-5 pb-2",children:"Les partenaires"}),e.jsx("div",{className:"h-[60vh] overflow-y-auto grid lg:grid-cols-4 sm:grid-cols-2 md:grid-cols-3 border-gray-800",children:d.map((t,f)=>e.jsx("div",{className:"",children:e.jsxs(ls,{className:"max-w-sm shadow-white bg-transparent border-0 mx-auto rounded-lg",children:[e.jsx("img",{src:t.imgUrl[0],alt:`Partner logo for ${t._id}`,loading:"lazy",className:"max-h-[200px] min-h-[200px] w-auto object-contain rounded-lg hover:scale-105 duration-300"}),e.jsx("button",{className:"px-4 py-2 bg-red-800 rounded text-white mx-5",onClick:()=>Me(t._id),children:"Effacer"})]})},f))}),e.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>g(!1),children:"Close"})]})})]}),e.jsx(M,{})]}),e.jsx(xe,{})]})},Bs=()=>{const{currentUser:s}=R(r=>r.user);return s?e.jsx(ns,{}):e.jsx(is,{to:"/login"})},Ms=()=>{a.useEffect(()=>{window.scrollTo(0,0)},[]),a.useState("");const{currentUser:s}=R(y=>y.user),[r,h]=a.useState([]),[g,n]=a.useState({isError:!1,message:""}),[l,d]=a.useState(!1);a.useState(!1);const[j,o]=a.useState(!1),[i,b]=a.useState({imgUrl:[]}),[N,P]=a.useState(""),[w,m]=a.useState(""),x=q();a.useEffect(()=>{document.getElementById("admin").hidden=!0,s.role==="admin"&&(document.getElementById("admin").hidden=!1)},[]);const{register:A,handleSubmit:$,getValues:F,setError:L,formState:{errors:u}}=be({mode:"onChange"}),c=async()=>{if(r.length>0&&r.length+i.imgUrl.length<13){o(!0);const y=[];for(let C=0;C<r.length;C++)y.push(T(r[C])),Promise.all(y).then(_=>{b({...i,imgUrl:i.imgUrl.concat(_)}),o(!1)}).catch(_=>{n({...g,isError:!0,message:_}),o(!1)})}else n({...g,isError:!0,message:"Select file first (max:12)"}),o(!1)},T=y=>new Promise((C,_)=>{const G=ae(oe),K=new Date().getTime()+y.name,O=re(G,K),p=le(O,y);p.on("state_changed",S=>{S.bytesTransferred/S.totalBytes*100},S=>{_("File uploaded Falied")},()=>{ne(p.snapshot.ref).then(S=>{C(S)})})}),W=y=>{b({...i,imgUrl:i.imgUrl.filter(C=>C!=i.imgUrl[y])})};g.isError&&v.error(g.message,{autoClose:2e3});const D=async y=>{try{d(!0);const _=await(await fetch("api/projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,description:N,specificity:w,imgUrl:i.imgUrl,userRef:s._id})})).json();_.success===!1?(v.error(_.message,{autoClose:2e3}),d(!1)):(x(`/projects/${_._id}`),d(!1))}catch(C){v.error(C.message,{autoClose:2e3}),d(!1)}},k={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},Y=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return e.jsx("main",{children:e.jsxs("section",{id:"admin",children:[e.jsx("div",{className:"w-full h-24  rounded-lg"})," ",e.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[e.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Créer un Projet"}),e.jsx("div",{className:"mt-8 form_container",children:e.jsx("form",{onSubmit:$(D),children:e.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[e.jsxs("div",{className:"info_container",children:[e.jsxs("div",{className:"input_feilds",children:[e.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...A("title",{required:"This feild is required*"})}),u.title&&e.jsx("p",{className:"text-gray-800 text-xs",children:u.title.message}),e.jsx(ie,{id:"description",type:"text",placeholder:"Description",value:N,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:P,modules:k,formats:Y}),e.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...A("address",{required:"This feild is required*"})}),u.address&&e.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:u.address.message})]}),e.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[e.jsxs("div",{className:"property_type",children:[e.jsxs("p",{className:"font-heading text-black",children:["Selectionner l'etat"," "]}),e.jsxs("div",{className:"form-control ",children:[e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...A("etat")}),e.jsx("span",{className:"label-text font-medium",children:"Future"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...A("etat")}),e.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...A("etat")}),e.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),e.jsxs("div",{className:"cd_info mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:" Informations Générales"}),e.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[e.jsx("span",{className:"label-text font-medium",children:"Appartement"}),e.jsxs("div",{children:[e.jsx("input",{defaultValue:0,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...A("area",{required:"required"})}),u.area&&e.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:u.area.message})]})]})]}),e.jsxs("div",{className:"additional_feature mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Information Additionnelle"}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...A("parking")}),e.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...A("furnished")}),e.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"bureau",type:"checkbox",name:"bureau",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...A("bureau")}),e.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]}),e.jsxs("div",{className:"specificity mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Spécificité"}),e.jsx(ie,{id:"specificity",type:"text",value:w,onChange:m,className:"border-2 focus:border-[#3A5A40] rounded-md w-full mt-2",placeholder:"Description de la spécificité...",modules:k,formats:Y})]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[e.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"La premiére image sera l'image de couverture (max:12)"]}),e.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[e.jsx("input",{onChange:y=>h(y.target.files),required:!0,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] ${j?"md:w-4/6":"md:w-4/5"} w-full`}),e.jsx("button",{disabled:j||r.length===0,onClick:c,type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${j?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-gray-500 disabled:text-gray-500`,children:j?"Uploading...":"Upload"})]}),e.jsxs("div",{children:[i.imgUrl.length>0&&i.imgUrl.map((y,C)=>e.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[e.jsx("img",{src:y,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),e.jsx("button",{onClick:()=>W(C),type:"button",className:"font-medium text-lg text-gray-800 flex items-center underline hover:opacity-75",children:"Delete"})]},C)),e.jsx("div",{className:"post_btn mt-7",children:e.jsx("button",{disabled:i.imgUrl.length<1||j||l,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:l?"Creating...":"Create Project"})})]})]})]})})})]}),e.jsx(M,{})]})})},qs=()=>{const[s,r]=a.useState(""),[h,g]=a.useState("");a.useEffect(()=>{window.scrollTo(0,0)},[]);const{currentUser:n}=R(p=>p.user),[l,d]=a.useState([]),[j,o]=a.useState({isError:!1,message:""}),[i,b]=a.useState(!1),[N,P]=a.useState(!1),[w,m]=a.useState(!1),[x,A]=a.useState({imgUrl:[]}),[$,F]=a.useState(!1),L=q(),u=Te(),{register:c,handleSubmit:T,getValues:W,setValue:D,formState:{errors:k}}=be({mode:"onChange"});a.useEffect(()=>{document.getElementById("admin").hidden=!0,n.role==="admin"&&(document.getElementById("admin").hidden=!1),(async()=>{F(!0);const E=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u.id}`)).json();E.success===!1?(v.error(E.message,{autoClose:2e3}),F(!1)):(Y(E),A({...x,imgUrl:E.imgUrl}),E.offer&&P(!0),F(!1))})()},[]);const Y=p=>{D("title",p.title),r(p.description),g(p.specificity),D("address",p.address),D("area",p.area&&p.area),D("furnished",p.furnished),D("parking",p.parking),D("etat",p.etat),D("offer",p.offer),D("bureau",p.bureau)},y=async()=>{if(l.length>0&&l.length+x.imgUrl.length<13){m(!0);const p=[];for(let S=0;S<l.length;S++)p.push(C(l[S])),Promise.all(p).then(E=>{A({...x,imgUrl:x.imgUrl.concat(E)}),m(!1)}).catch(E=>{o({...j,isError:!0,message:E}),m(!1)})}else o({...j,isError:!0,message:"Select file first (max:6)"}),m(!1)},C=p=>new Promise((S,E)=>{const ue=ae(oe),ee=new Date().getTime()+p.name,he=re(ue,ee),te=le(he,p);te.on("state_changed",V=>{V.bytesTransferred/V.totalBytes*100},V=>{E("File uploaded Falied")},()=>{ne(te.snapshot.ref).then(V=>{S(V)})})}),_=p=>{A({...x,imgUrl:x.imgUrl.filter(S=>S!=x.imgUrl[p])})};j.isError&&v.error(j.message,{autoClose:2e3});const G=async p=>{try{b(!0);const E=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,description:s,specificity:h,imgUrl:x.imgUrl,userRef:n._id})})).json();E.success===!1?(v.error(E.message,{autoClose:2e3}),b(!1)):(L(`/projects/${E._id}`),b(!1))}catch(S){v.error(S.message,{autoClose:2e3}),b(!1)}},K={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},O=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return e.jsx("main",{children:$?e.jsxs("div",{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsx(ce,{}),e.jsx("p",{className:"font-heading text-[#3A5A40] text-lg sm:text-2xl text-center",children:"Loading..."})]}):e.jsxs("section",{id:"admin",children:[e.jsx("div",{className:"w-full h-32 "}),e.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[e.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Mise à jour Projet"}),e.jsx("div",{className:"mt-8 form_container",children:e.jsx("form",{onSubmit:T(G),children:e.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[e.jsxs("div",{className:"info_container",children:[e.jsxs("div",{className:"input_feilds",children:[e.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...c("title",{required:"This feild is required*"})}),k.title&&e.jsx("p",{className:"text-red-700 text-xs",children:k.title.message}),e.jsx(ie,{id:"description",type:"text",placeholder:"Description",value:s,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:r,modules:K,formats:O}),k.description&&e.jsx("p",{className:"text-red-700 text-xs",children:k.description.message}),e.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...c("address",{required:"This feild is required*"})}),k.address&&e.jsx("p",{className:"text-red-700 text-xs font-semibold",children:k.address.message})]}),e.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[e.jsxs("div",{className:"property_type",children:[e.jsx("p",{className:"font-heading text-black",children:"Selectionner l'etat "}),e.jsxs("div",{className:"form-control ",children:[e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...c("etat")}),e.jsx("span",{className:"label-text font-medium",children:"Future"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...c("etat")}),e.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...c("etat")}),e.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),e.jsxs("div",{className:"property_info mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Genarel Information"}),e.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[e.jsx("span",{className:"label-text font-medium",children:"Appartements "}),e.jsxs("div",{children:[e.jsx("input",{defaultValue:550,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] min-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...c("area",{required:"required"})}),k.area&&e.jsx("p",{className:"text-red-700 text-xs font-semibold",children:k.area.message})]})]})]}),e.jsxs("div",{className:"additional_feature mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Additional Information"}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...c("parking")}),e.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...c("furnished")}),e.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"bureau",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...c("bureau")}),e.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]})]})]}),e.jsx(ie,{id:"specificity",value:h,onChange:g,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",placeholder:"Specificité",modules:K,formats:O}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[e.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"First image will be cover image (max:9)"]}),e.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[e.jsx("input",{onChange:p=>d(p.target.files),required:x.imgUrl<1,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] bg-red-00 ${w?"md:w-4/6":"md:w-4/5"} w-full`}),e.jsx("button",{disabled:w,onClick:y,type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${w?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-yellow-500 disabled:text-yellow-500`,children:w?"Uploading...":"Upload"})]}),e.jsxs("div",{children:[x.imgUrl&&x.imgUrl.length>0&&x.imgUrl.map((p,S)=>e.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[e.jsx("img",{src:p,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),e.jsx("button",{onClick:()=>_(S),type:"button",className:"font-medium text-lg text-red-700 flex items-center underline hover:opacity-75",children:"Delete"})]},S)),e.jsx("div",{className:"post_btn mt-7",children:e.jsx("button",{disabled:x.imgUrl.length<1||w||i,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:i?"Updating...":"Update Project"})})]})]})]})})})]}),e.jsx(M,{})]})})},Oe=({project:s})=>{const r=q(),{title:h,imgUrl:g,description:n,_id:l}=s;return e.jsx("div",{className:"listing_card bg-transparant  rounded-lg w-full  group sm:mr-auto sm:ml-0 mx-auto shadow-lg shadow-gray-400",onClick:()=>r(`/projects/${l}`),children:e.jsxs("div",{className:"card-container",children:[e.jsx("div",{className:"image_container relative overflow-hidden h-70 cursor-pointer items-center p-2",children:e.jsx("img",{className:"max-h-[300px] min-h-[300px] w-full object-cover rounded-lg hover:scale-105 duration-300 ",src:g[0],alt:"property image",loading:"lazy"})}),e.jsx("div",{className:"card_body  duration-500 mt-1 h-28  ",children:e.jsxs("div",{className:"content-container p-3 pb-0 cursor-pointer",children:[e.jsx("h2",{className:"text-lg text-black font-bold truncate uppercase duration-300 group-hover:text-black ",children:h}),e.jsx("div",{className:"text-sm text-gray-600 overflow-hidden overflow-ellipsis",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineHeight:"1.2em",maxHeight:"3.6em",whiteSpace:"normal"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:n}})})]})})]})})},Vs=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid sm:hidden",children:e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})}),e.jsxs("div",{className:"hidden lg:hidden sm:grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]}),e.jsxs("div",{className:"hidden xl:hidden  lg:grid grid-cols-3 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]}),e.jsxs("div",{className:"hidden xl:grid grid-cols-4 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]})]}),Js=()=>{const[s,r]=a.useState(!0),[h,g]=a.useState([]),n=q();function l(o){const{className:i,style:b,onClick:N}=o;return e.jsx("div",{className:i,style:{...b,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",right:"-15px",zIndex:1},onClick:N})}function d(o){const{className:i,style:b,onClick:N}=o;return e.jsx("div",{className:i,style:{...b,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",left:"-15px",zIndex:1},onClick:N})}a.useEffect(()=>{(async()=>{try{r(!0);const i=await(await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/")).json();i.success===!1||g(i),r(!1)}catch(o){console.log(o),r(!1)}})()},[]);const j={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,nextArrow:e.jsx(l,{}),prevArrow:e.jsx(d,{}),autoplay:!0,autoplaySpeed:2e3,appendDots:o=>e.jsxs("ul",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},children:[o.slice(0,5),o.length>5&&e.jsx("li",{className:"justify:center  "})]}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return e.jsx("section",{children:e.jsxs("div",{className:"mx-auto max-w-screen-xl  space-y-8 px-4 py-16 sm:px-6 lg:space-y-16 lg:px-8",children:[e.jsx("div",{className:"content",children:e.jsx("h2",{className:"text-xl  sm:text-3xl font-bold  text-[#515557] sm:text-left ",children:"NOS PROJETS"})}),e.jsx("div",{className:"post_container !mt-4",children:s?e.jsx(Vs,{}):e.jsx("div",{className:"slider_container",children:e.jsx(Ue,{...j,className:"z-10 relative gap-3",children:h&&h.map(o=>e.jsx(Oe,{project:o},o._id))})})}),e.jsx("div",{className:"btn_container flex items-center justify-center ",children:e.jsxs("button",{className:"group relative inline-flex items-center overflow-hidden rounded bg-[#3A5A40] px-8 py-3 text-black ",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 50%, rgba(123,231,26,1) 100%)"},onClick:()=>n("/searchProject?"),children:[e.jsx("span",{className:"absolute -end-full transition-all group-hover:end-4",children:e.jsx("svg",{className:"h-5 w-5 rtl:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),e.jsx("span",{className:"text-sm font-medium transition-all  group-hover:me-4",children:"Voir plus"})]})})]})})},Hs=()=>{const s=Fe(),[r,h]=a.useState({}),[g,n]=a.useState(!1),[l,d]=a.useState(!1),{address:j,description:o,specificity:i,title:b}=r,N=q(),P=Te(),{currentUser:w}=R(u=>u.user);de(),a.useEffect(()=>{window.scrollTo(0,0)},[s]),a.useEffect(()=>{window.scrollTo(0,0),(async()=>{d(!0);const c=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${P.id}`)).json();c.success===!1?(v.error(c.message,{autoClose:2e3}),d(!1)):(h(c),d(!1))})()},[P.id]);function m({onClick:u}){return e.jsx("div",{className:"absolute top-1/2 left-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-e-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:u,children:e.jsx(xs,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}function x({onClick:u}){return e.jsx("div",{className:"absolute top-1/2 right-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-s-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:u,children:e.jsx(us,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}const A={infinite:!0,lazyLoad:!1,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:e.jsx(x,{to:"next"}),prevArrow:e.jsx(m,{to:"prev"}),appendDots:u=>e.jsx("div",{style:{bottom:25},children:e.jsxs("ul",{style:{margin:"0px",color:"#fff"},children:[" ",u," "]})})},$=async u=>{try{const T=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u}`,{method:"DELETE"})).json();T.success===!1?v.error(T.message,{autoClose:2e3}):N("/profile")}catch(c){v.error(c.message,{autoClose:2e3})}};function F(u,c){return typeof u=="string"&&u.length>c?u.slice(0,-c):u}function L(u){return console.log(u),u.endsWith(".mp4")}return e.jsxs(e.Fragment,{children:[l?e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your project.."})]}):e.jsxs("div",{className:"listing_section pb-16",children:[e.jsx("div",{className:"w-full h-32 "}),e.jsx("div",{className:"container mb-4",children:e.jsxs("button",{onClick:()=>N(-1),className:"flex items-center hover:bg-[#3A5A40]/90 text-black px-6 py-2 rounded-md font-heading",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 40%, rgba(123,331,36,1) 100%)"},children:[e.jsx(os,{className:"mr-2"}),"Retour"]})}),e.jsx(Ue,{...A,className:"z-10 relative",children:r.imgUrl&&r.imgUrl.map((u,c)=>e.jsx("div",{className:"w-full mx-auto z-10",children:L(F(u,53))?e.jsx("video",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:u,alt:"video",autoPlay:"true",controls:!0,muted:"false",loop:"true"}):e.jsx("img",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:u,alt:"image",loading:"lazy"})},c))}),e.jsx("div",{className:"container ",children:e.jsx("div",{className:"property_details_container pt-4 sm:pt-12 ",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-7  ",children:[e.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:e.jsxs("div",{className:"property_info",children:[e.jsx("h1",{className:"font-heading font-bold mt-5 md:mt-8 text-2xl sm:text-3xl text-black capitalize",children:b}),e.jsxs("p",{className:"font-content mt-3 font-medium text-lg flex items-center justify-left",children:[e.jsx(cs,{className:"text-[#3A5A40]"}),e.jsx("span",{className:"ml-1",children:j})]}),e.jsxs("div",{className:"description",children:[e.jsx("p",{className:"font-heading mt-4 font-medium text-lg sm:text-xl",children:"Description"}),e.jsx("div",{className:"description-content break-words",dangerouslySetInnerHTML:{__html:o}})]})]})}),e.jsxs("div",{className:`property_details mt-8 bg-white rounded-md shadow-sm shadow-[#3A5A40] md:px-12 py-5 px-6 ${w&&w.role==="admin"?"block":"hidden"}`,children:[e.jsxs("div",{onClick:()=>n(!g),className:"feature_heading flex items-center justify-between cursor-pointer",children:[e.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),g?e.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:e.jsx(ds,{className:"text-xl text-[#3A5A40]"})}):e.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:e.jsx(ms,{className:"text-xl text-[#3A5A40]"})})]}),e.jsx("div",{className:`feature_info  transition-max-h ${g?"max-h-screen":"max-h-0"} overflow-hidden duration-500 ease-in-out`,children:e.jsx("div",{className:"specificity",children:e.jsx("div",{className:"specificity-content break-words",dangerouslySetInnerHTML:{__html:i}})})})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:w&&w.role==="admin"?e.jsxs("div",{className:"project_owner",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 sm:gap-5 gap-2 ",children:[e.jsx("div",{className:"btn_container",children:e.jsx("button",{onClick:()=>N(`/update_project/${P.id}`),className:"bg-[#3A5A40] hover:bg-[#3A5A40]/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Modifier Project"})}),e.jsx("div",{className:"contant_btn_container",children:e.jsx("button",{onClick:()=>$(P.id),className:"bg-red-600 hover:bg-red-600/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Supprimer Project"})})]}),e.jsx("div",{className:"contant_btn_container mt-3",children:e.jsx("button",{onClick:()=>N("/profile"),className:"bg-amber-700 hover:bg-amber-700/90 uppercase text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Tous les Projects"})})]}):e.jsxs("div",{className:"feature_info transition-max-h max-h-screen overflow-hidden duration-500 ease-in-out",children:[e.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),e.jsx("div",{className:"info_contaier mt-5 max-w-md",children:e.jsx("div",{className:"mt-4",children:i?e.jsx("div",{className:"font-heading text-md lg:text-lg specificity-content break-words",dangerouslySetInnerHTML:{__html:i}}):e.jsx("p",{className:"font-heading text-md lg:text-lg text-gray-500",children:"Aucune spécificité disponible"})})})]})})})]})})}),e.jsx(M,{})]}),e.jsx(Js,{}),e.jsx(xe,{})]})},Ws=()=>{a.useEffect(()=>{window.scrollTo(0,0)},[]);const[s,r]=a.useState([]),{searchTermState:h}=R(m=>m.search),[g,n]=a.useState(!1),[l,d]=a.useState(1),j=a.useRef(),[o,i]=a.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),b=de(),N=m=>{m.preventDefault(),b(Ce("")),i({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1})},P=async()=>{try{n(!0);const x=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/search?searchTerm=${h}&etat=${o.etat}&parking=${o.parking}&furnished=${o.furnished}&bureau=${o.bureau}&page=${l}`)).json();x.success===!1||r(x),n(!1)}catch(m){console.log(m),n(!1)}};a.useEffect(()=>{P()},[o,h,l]),a.useEffect(()=>{const x=new URLSearchParams(location.search).get("filter");x&&i(A=>({...A,etat:x}))},[location.search]);const w=(m,x)=>{d(1),i({...o,[m]:x})};return a.useEffect(()=>{j.current.scrollIntoView({behavior:"smooth"})},[s]),e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsxs("div",{ref:j,children:[e.jsx("div",{className:"w-full h-32 rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-5 lg:max-h-full lg:min-h-screen",children:[e.jsx("div",{className:"option_container md:col-span-3 mt-1 bg-gray-50 lg:max-h-full lg:min-h-screen shadow-md rounded-lg",children:e.jsx("div",{className:"items_container p-6 py-8",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"form-control w-full max-w-full relative mb-6",children:[e.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-full px-4 py-3 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500",onChange:m=>b(Ce(m.target.value)),value:h}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-3 mr-4 text-green-500 hover:text-green-700",children:e.jsx(hs,{size:20})})]}),e.jsxs("div",{className:"fields_container mb-4",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:"Type:"}),e.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["all","future","en cours","terminee"].map(m=>{const x={all:"Tous",future:"Future","en cours":"En cours",terminee:"Termine"};return e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"etat",value:m,className:"form-radio h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:A=>w(A.target.name,A.target.value),checked:o.etat===m}),e.jsx("span",{className:"text-sm",children:x[m]})]},m)})})]}),e.jsxs("div",{className:"amenities_container mb-4",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:"Équipements:"}),e.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["parking","bureau"].map(m=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:m,className:"form-checkbox h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:x=>w(x.target.name,x.target.checked),checked:o[m]}),e.jsx("span",{className:"text-sm",children:m.charAt(0).toUpperCase()+m.slice(1)})]},m))})]}),e.jsx("div",{className:"btn_container w-full",children:e.jsx("button",{className:"w-full py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition duration-150 ease-in-out",type:"submit",children:e.jsxs("span",{className:"flex items-center justify-center font-bold text-lg",children:[e.jsx(je,{className:"mr-2"}),"Effacer Recherche"]})})})]})})}),e.jsx("div",{className:"listing_container md:col-span-9 pb-10 pt-2",children:g?e.jsxs("div",{className:"loading_container mt-40 flex items-center justify-center flex-col",children:[e.jsx(je,{className:"text-green-500 text-xl"}),e.jsx("p",{className:"font-heading text-lg text-center text-green-500",children:"Searching..."})]}):e.jsx("div",{children:s.length!==0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 px-5 gap-y-8",children:s.map(m=>e.jsx(Oe,{project:m},m._id))}),e.jsx("div",{className:"pagination_part mt-8 md:mt-14 w-full flex items-center justify-center",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{onClick:()=>d(l-1),disabled:l<=1||g,className:`join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out 
                                                    disabled:bg-gray-300 disabled:text-gray-500`,children:e.jsx(Pe,{})}),e.jsxs("button",{className:"join-item btn bg-green-500 text-white cursor-default",children:["Page ",l]}),e.jsx("button",{onClick:()=>d(l+1),disabled:s.length-(l-1)*12<12||g,className:`join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out
                                                    disabled:bg-gray-300 disabled:text-gray-500`,children:e.jsx(Ee,{})})]})})]}):e.jsxs("div",{className:"mt-40 flex items-center justify-center flex-col",children:[e.jsx(gs,{className:"text-green-500 text-3xl"}),e.jsx("p",{className:"font-heading text-lg text-center text-green-500",children:"Sorry, Listings not found"})]})})})]})]})}),e.jsx(xe,{})]})};function Ys(){const[s,r]=a.useState(!1),{currentUser:h}=R(c=>c.user),[g,n]=a.useState(0),[l,d]=a.useState(!0),[j,o]=a.useState(!1),[i,b]=a.useState("bg-transparent"),N=a.useRef(null),P=()=>{r(!s)},w=()=>{r(!1),o(!1)},m=Fe();a.useEffect(()=>{const c=()=>{const T=window.scrollY;n(T),T>0?b(" bg-white-100/100 backdrop-blur-md"):b("bg-transparent"),d(T<g)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[g]);const x=()=>{o(!j)},A=()=>{o(!0)},$=()=>{o(!1)};a.useEffect(()=>{const c=T=>{N.current&&!N.current.contains(T.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[N]);const F=({isActive:c})=>`
    text-black font-bold text-md sm:text-lg md:text-sm lg:text-xl md:mx-1 lg:mx-8 my-3
    transform translate-y-2 ${c?"text-green-600":"hover:text-[#006400]"} 
      hover:rounded-lg hover:p-0
  `,L=({isActive:c})=>`
    block px-4 py-2 ${c?"text-green-600":"hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"}
  `,u=m.pathname.includes("/searchProject");return e.jsx(fe,{fluid:!0,rounded:!0,className:`fixed top-0 left-0 right-0 rounded-lg justify-between w-full z-50 transition-transform duration-300 ${i} ${l?"translate-y-0":"-translate-y-full"}`,children:e.jsxs("div",{className:"flex flex-wrap rounded-lg md:flex-nowrap pb-6 w-full items-center justify-between",children:[e.jsx(fe.Brand,{href:"/",children:e.jsx("img",{src:Ie,className:`relative mr-3 h-16 sm:h-32 md:h-28 lg:h-20 ml-10 transition-transform duration-300 ${g>0?"scale-90":"scale-100"}`,alt:"nom",loading:"eager"})}),e.jsxs("div",{className:"flex sm:mr-1 items-center md:order-2",children:[h&&e.jsx(H,{className:F,children:e.jsx(Z,{to:"/profile",className:"hover:text-black",children:"ADMIN"})}),e.jsx("button",{className:"block md:hidden m-4",onClick:P,children:e.jsx("img",{src:s?Fs:Ls,alt:"menu",className:"h-16 w-6 ",loading:"lazy"})})]}),e.jsxs(fe.Collapse,{className:`w-full flex-col md:flex-row md:w-auto md:items-center ml-32  ${s?"block bg-white/90 p-6 rounded-3xl text-black pt-4 ":"hidden md:flex"}`,children:[e.jsx(H,{className:F,to:"/",end:!0,onClick:w,children:"ACCUEIL"}),e.jsx(H,{className:F,to:"/apropos",onClick:w,children:"A PROPOS"}),e.jsxs("div",{className:"relative",onMouseEnter:A,onMouseLeave:$,ref:N,children:[e.jsxs("span",{className:`${F({isActive:u})} flex items-center cursor-pointer`,onClick:x,children:["NOS PROJETS",e.jsx("svg",{className:"w-2.5 h-2.5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),j&&e.jsx("div",{className:"absolute z-50 bg-white divide-y divide-gray-100 rounded-lg shadow w-72 dark:bg-gray-700",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200",children:[e.jsx("li",{children:e.jsx(H,{to:"/searchProject?filter=terminee",className:L,onClick:w,children:"Projets Réalisés"})}),e.jsx("li",{children:e.jsx(H,{to:"/searchProject?filter=en cours",className:L,onClick:w,children:"Projet En Cours"})}),e.jsx("li",{children:e.jsx(H,{to:"/searchProject?filter=future",className:L,onClick:w,children:"Futures Projets"})})]})})]}),e.jsx(H,{className:F,to:"/contact",children:"CONTACT"})]})]})})}class Gs extends me.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,h){console.error("Error:",r,"Error Info:",h)}render(){return this.state.hasError?this.props.fallback||e.jsx("h1",{children:"Oops! Something went wrong."}):this.props.children}}const Ks=me.lazy(()=>Ne(()=>import("./Homee-df7b2013.js"),["assets/Homee-df7b2013.js","assets/vendor-7b6aa3ad.js","assets/vendor-3b590169.css","assets/StateCardAbout-39408310.js","assets/webe1-6a5a35a5.js","assets/Homee-64416f9c.css"])),Xs=me.lazy(()=>Ne(()=>import("./About-c3e9ed3c.js"),["assets/About-c3e9ed3c.js","assets/vendor-7b6aa3ad.js","assets/vendor-3b590169.css","assets/StateCardAbout-39408310.js","assets/Newsetter-075b73a0.js"])),Qs=me.lazy(()=>Ne(()=>import("./Contact-fbbd35eb.js"),["assets/Contact-fbbd35eb.js","assets/vendor-7b6aa3ad.js","assets/vendor-3b590169.css","assets/webe1-6a5a35a5.js","assets/Newsetter-075b73a0.js"]));function Zs(){return e.jsx(e.Fragment,{children:e.jsxs(ps,{children:[e.jsx(Ys,{}),e.jsx(Gs,{fallback:e.jsx("p",{children:"Une erreur s'est produite. Veuillez réessayer plus tard."}),children:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Chargement..."}),children:e.jsxs(fs,{children:[e.jsx(I,{path:"/login",element:e.jsx(Ds,{})}),e.jsx(I,{path:"/",element:e.jsx(Ks,{})}),e.jsx(I,{path:"/projects/:id",element:e.jsx(Hs,{})}),e.jsx(I,{path:"/searchProject?",element:e.jsx(Ws,{})}),e.jsx(I,{path:"/apropos",element:e.jsx(Xs,{})}),e.jsx(I,{path:"/contact",element:e.jsx(Qs,{})}),e.jsxs(I,{element:e.jsx(Bs,{}),children:[e.jsx(I,{path:"/profile",element:e.jsx(zs,{})}),e.jsx(I,{path:"/create_project",element:e.jsx(Ms,{})}),e.jsx(I,{path:"/update_project/:id",element:e.jsx(qs,{})})]})]})})})]})})}const et=js({user:Ts,search:Os}),st={key:"root",storage:ys,whitelist:["user"]},tt=bs(st,et),ze=Ns({reducer:tt,middleware:s=>s({serializableCheck:!1})}),at=vs(ze);ws.createRoot(document.getElementById("root")).render(e.jsx(ks,{store:ze,children:e.jsx(As,{loading:null,persistor:at,children:e.jsx(Zs,{})})}));export{Gs as E,xe as F,Oe as P,Vs as S,Js as a};
