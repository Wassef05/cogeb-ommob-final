import{c as e,u as s,a,b as t,d as r,j as l,k as i,Q as n,L as d,F as c,f as o,e as m,g as x,h as u,i as h,l as p,r as g,m as j,n as f,o as b,p as N,A as v,q as y,B as w,s as k,t as A,C,v as S,w as _,x as E,y as T,O as P,N as U,R as L,z as $,S as I,D as F,E as D,G as z,H as O,I as q,J as R,K as B,M,P as V,T as J,U as H,V as W,W as Y,X as G,Y as K,Z as X,_ as Z,$ as Q,a0 as ee,a1 as se,a2 as ae,a3 as te,a4 as re}from"./vendor-ea00a4ff.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const le={},ie=function(e,s,a){if(!s||0===s.length)return e();const t=document.getElementsByTagName("link");return Promise.all(s.map((e=>{if((e=function(e){return"/"+e}(e))in le)return;le[e]=!0;const s=e.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(!!a)for(let a=t.length-1;a>=0;a--){const r=t[a];if(r.href===e&&(!s||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${e}"]${r}`))return;const l=document.createElement("link");return l.rel=s?"stylesheet":"modulepreload",s||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),s?new Promise(((s,a)=>{l.addEventListener("load",s),l.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}))},ne=e({name:"user",initialState:{currentUser:null,loading:!1,signinError:null,error:null},reducers:{loddingStart:e=>{e.loading=!0},signinSuccess:(e,s)=>{e.currentUser=s.payload,e.loading=!1,e.signinError=!1},signinFailed:(e,s)=>{e.signinError=s.payload,e.loading=!1},userUpdateSuccess:(e,s)=>{e.currentUser=s.payload,e.loading=!1,e.error=!1},userUpdateFailed:(e,s)=>{e.loading=!1,e.error=s.payload},userDeleteSuccess:e=>{e.loading=!1,e.currentUser=null,e.error=!1},userDeleteFail:(e,s)=>{e.loading=!1,e.error=s.payload},signoutSuccess:e=>{e.loading=!1,e.currentUser=null,e.error=!1},signoutFailed:(e,s)=>{e.loading=!1,e.error=s.payload}}}),{loddingStart:de,signinSuccess:ce,signinFailed:oe,userUpdateFailed:me,userUpdateSuccess:xe,userDeleteStart:ue,userDeleteSuccess:he,userDeleteFail:pe,signoutSuccess:ge,signoutFailed:je}=ne.actions,fe=ne.reducer,be=()=>{const{register:e,handleSubmit:d,formState:{errors:c}}=s(),o=a(),m=t(),{loading:x}=r((e=>e.user));return l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:d((async e=>{m(de());try{const s=await fetch("http://localhost:4000/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();!1===a.success&&(m(oe(a.message)),n.error(a.message,{autoClose:2e3})),"admin"===a.role?(m(ce(a)),o("/profile")):(alert("not allowed"),window.location.reload())}catch(s){m(oe(s.message)),n.error(userData.message,{autoClose:2e3})}})),children:[l.jsx("input",{...e("email",{required:!0}),type:"email",placeholder:"Email",className:"form_input mt-5"}),c.email&&l.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),l.jsx("input",{...e("userPassword",{required:!0}),type:"password",placeholder:"Password",className:"form_input mt-5"}),c.password&&l.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),l.jsx("button",{type:"submit",disabled:x,className:"btn bg-[#3A5A40] text-white mt-5 rounded-md w-full hover:bg-[#3A5A40]/[.90]",children:x?"Loading...":"Login"})]}),l.jsx(i,{limit:0})]})},Ne="/assets/logo-e17a09a4.webp",ve=()=>{const e=(new Date).getFullYear();return l.jsxs("footer",{className:"bg-gradient-to-r from-slate-300 to-slate-200 mt-16 pt-20 p-10 font-sans tracking-wide",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{className:"lg:flex lg:items-center flex-col",children:[l.jsx(d,{to:"#",children:l.jsx("img",{src:Ne,alt:"logo",className:"mx-auto",loading:"lazy"})}),l.jsx("p",{className:"mt-4 text-black",children:"Notre vision est de fournir des outils fiables pour des créations sans limites."})]}),l.jsxs("nav",{children:[l.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:"Liens"}),l.jsxs("ul",{className:"space-y-4",children:[l.jsx("li",{children:l.jsx(d,{to:"/",className:"text-black hover:text-black text-sm font-bold",children:"ACCUEIL"})}),l.jsx("li",{children:l.jsx(d,{to:"/about",className:"text-black hover:text-black text-sm font-bold",children:"A PROPOS"})}),l.jsx("li",{children:l.jsx(d,{to:"/searchProject",className:"text-black hover:text-black text-sm font-bold",children:"NOS PROJETS"})}),l.jsx("li",{children:l.jsx(d,{to:"/contact",className:"text-black hover:text-black text-sm font-bold",children:"CONTACT"})})]})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:"Contact"}),l.jsxs("ul",{className:"space-y-4",children:[l.jsx("li",{children:l.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-sm font-bold",children:"cogebimmobiliere@gmail.com"})}),l.jsx("li",{children:l.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-sm font-bold",children:"+216 73 323 435"})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-black hover:text-black text-sm font-bold",children:[l.jsx(c,{icon:o})," Avenue de l'environnement, Sousse, Tunisia, 4000"]})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-black text-lg font-bold mb-6",children:"Suivez-nous"}),l.jsxs("div",{className:"flex justify-center space-x-6",children:[l.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:l.jsx(c,{icon:m})}),l.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:l.jsx(c,{icon:x})}),l.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-2xl",children:l.jsx(c,{icon:u})})]}),l.jsx("p",{className:"mt-4 text-sm text-black",children:"Restez connectés avec nous pour des mises à jour et des offres exclusives."}),l.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[l.jsx("a",{href:"https://wa.me/21673323435",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:l.jsx(c,{icon:h})}),l.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-2xl",children:l.jsx(c,{icon:p})})]})]})]}),l.jsxs("p",{className:"text-black-300 text-center text-sm mt-10",children:["© Copyright ",e," by cogeb-immobiliere. All rights reserved."]})]})},ye=()=>(g.useEffect((()=>{window.scrollTo(0,0)}),[]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-full h-32  rounded-lg"}),l.jsx("section",{className:"form-section py-10 md:py-20 ",children:l.jsx("div",{className:"container ",children:l.jsxs("div",{className:"form-container px-4 sm:px-8 bg-white py-6 pb-8 sm:py-9 sm:pb-12 max-w-lg mx-auto rounded-sm border-[1px] border-[#3A5A40]/50 shadow-brand shadow-[#3A5A40]/40",children:[l.jsx("h1",{className:"text-left text-[#3A5A40] mb-3 font-medium font-heading text-md sm:text-xl",children:"Login"}),l.jsx(be,{}),l.jsx(i,{limit:0})]})})}),l.jsx(ve,{})]})),we=j({apiKey:"AIzaSyB8X4k_NZ4aKLwsXvB0IViv3c-w6EJv_A0",authDomain:"cogeb-property-sale-3f10a.firebaseapp.com",projectId:"cogeb-property-sale-3f10a",storageBucket:"gs://cojeb-property-sale-3f10a.appspot.com",messagingSenderId:"483531472357",appId:"1:483531472357:web:b1d4be16d4abbbf5cbc30c",measurementId:"G-85NW2J18MH"});f(we);const ke=we,Ae=({projectInfo:e})=>{if(!e||!e.project)return l.jsx("div",{children:"Project data is missing"});const{address:s,etat:t,description:r,furnished:i,imgUrl:n,parking:d,title:c,_id:o,bureau:m,area:x}=e.project,u=a();return l.jsxs("div",{className:"rounded-md bg-white shadow-lg hover:shadow-xl",children:[l.jsxs("div",{onClick:()=>u(`/projects/${o}`),className:"relative flex items-end overflow-hidden rounded-md h-[200px] cursor-pointer",children:[l.jsx("img",{className:"hover:scale-105 object-cover h-full w-full duration-300",src:n[0],alt:"wallpaper",loading:"lazy"}),l.jsx("div",{className:"absolute bottom-3 left-3 inline-flex items-center rounded-sm bg-[#3A5A40] px-2 py-1 shadow-md",children:l.jsx("span",{className:"text-xs text-white uppercase font-bold",children:"future"===t?"Future":"en cours"===t?"En cours":"terminee"===t?"Terminé":""})}),l.jsx("div",{className:"absolute bottom-3 right-3 inline-flex items-center rounded-sm px-2 py-1",children:l.jsxs("span",{className:"text-xs text-white uppercase font-bold flex items-center",children:[l.jsx(b,{className:"mr-1"}),n.length]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{onClick:()=>u(`/projects/${o}`),className:"cursor-pointer",children:[l.jsx("h2",{className:"text-[#3A5A40] font-bold text-xl truncate cursor-pointer",children:c}),l.jsxs("p",{className:"mt-2 text-sm text-[#3A5A40] font-content font-bold truncate",children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",s]}),l.jsx("div",{className:"mt-3 flex items-end justify-start",children:l.jsx("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:l.jsx("span",{className:"font-bold font-bold mr-1",children:t})})}),l.jsxs("div",{className:"mt-2 flex items-end justify-start",children:[l.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[l.jsx(N,{className:"mr-1 mt-[2px] "+(d?"text-green-600":"text-gray-400")}),"parking"]}),l.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[l.jsx(N,{className:"mr-1 mt-[2px] "+(i?"text-green-600":"text-gray-400")}),"Espace Comercial"]}),l.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[l.jsx(N,{className:"mr-1 mt-[2px] "+(m?"text-green-600":"text-gray-400")}),"Bureau"]})]}),l.jsx("div",{className:"mt-3 flex items-end justify-between",children:l.jsx("div",{className:"inline-flex rounded-xl max-w-[150px] duration-500",children:l.jsxs("p",{className:"font-bold text-lg truncate",children:[x||0,"  ",l.jsx("span",{className:"font-content",children:" appartements"})]})})})]}),l.jsxs("div",{className:"mt-4 flex items-end justify-between",children:[l.jsx("button",{onClick:()=>u(`/update_project/${o}`),className:"bg-[#3A5A40] rounded-sm py-2 px-7 font-bold text-white hover:opacity-95 text-sm",children:"Modifier"}),l.jsx("button",{onClick:()=>e.handleProjectDelete(o),className:"bg-red-800 py-2 px-5 rounded-sm font-bold text-white hover:opacity-95 text-sm z-10",children:"Supprimer"})]})]})]})},Ce=()=>l.jsx("div",{className:"h-full w-full flex items-center justify-center",children:l.jsx("p",{className:"loading mt-20 loading-infinity h-20 w-20  text-[#3A5A40]"})}),Se=e({name:"search",initialState:{searchTermState:""},reducers:{setSearchTermState:(e,s)=>{e.searchTermState=s.payload}}}),{setSearchTermState:_e}=Se.actions,Ee=Se.reducer,Te=()=>{const[e,s]=g.useState(!1),[d,c]=g.useState(!1),[o,m]=g.useState({imgUrl:[]}),[x,u]=g.useState({});g.useEffect((()=>{window.scrollTo(0,0)}),[]);const[h,p]=g.useState(1),{currentUser:j}=r((e=>e.user)),[f,b]=g.useState(void 0),[N,P]=g.useState(0),[U,L]=g.useState(!1),[$,I]=g.useState({}),[F,D]=g.useState(1),{searchTermState:z}=r((e=>e.search)),[O,q]=g.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),R=t(),B=(e,s)=>{p(1),q({...O,[e]:s})},[M,V]=g.useState({isProjectExist:!1,projects:[]}),[J,H]=g.useState(!1),W=g.useRef(null),{loading:Y}=r((e=>e.user)),G=a();g.useEffect((()=>{(e=>{if(e){const s=S(ke),a=(new Date).getTime()+e.name,t=_(s,a),r=E(t,e);r.on("state_changed",(e=>{const s=e.bytesTransferred/e.totalBytes*100;P(Math.round(s))}),(e=>{L(!0)}),(()=>{T(r.snapshot.ref).then((e=>{I({...$,avatar:e})}))}))}})(f)}),[f]);const K=e=>{I({...$,[e.target.name]:e.target.value})};g.useEffect((()=>{(async()=>{try{H(!0);const e=await fetch(`http://localhost:4000/api/projects/search?searchTerm=${z}&etat=${O.etat}&parking=${O.parking}&furnished=${O.furnished}&bureau=${O.bureau}&page=${h}`),s=await e.json();!1===s.success?(n.error(s.message,{autoClose:2e3}),H(!1),R(ge())):(V({...M,isProjectExist:!0,projects:s}),H(!1))}catch(e){n.error(e.message,{autoClose:2e3}),H(!1)}})()}),[O,z]);g.useEffect((()=>{(async()=>{try{const e=await fetch("http://localhost:4000/api/partners/"),s=await e.json();u(s)}catch(e){n.error(e.message,{autoClose:2e3})}})()}),[x]);const X=async e=>{try{const s=await fetch(`http://localhost:4000/api/projects/${e}`,{method:"DELETE"}),a=await s.json();if(!1===a.success)n.error(a.message,{autoClose:2e3});else{const s=M.projects.filter((s=>s._id!==e));V({...M,projects:s}),n.success(a,{autoClose:2e3})}}catch(s){n.error(s.message,{autoClose:2e3})}};return l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsx("div",{className:"w-full h-32  rounded-lg"}),l.jsxs("div",{className:"max-w-7xl sm:max-w-full mx-auto grid md:gap-6 temp lg:grid-cols-4  md:grid-cols-5 grid-cols-1 items-start",children:[l.jsxs("div",{className:"profile_info p-5 bg-white  w-full  md:col-span-2 lg:col-span-1  md:max-h-full md:min-h-screen h-full col-span-1 ",children:[l.jsxs("form",{className:"w-full",onSubmit:async e=>{e.preventDefault();try{R(de());const e=await fetch(`api/users/update/${j._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),s=await e.json();!1===s.success?(R(me(s.message)),n.error(s.message,{autoClose:5e3})):(R(xe(s)),n.success("Profile updated successfully",{autoClose:2e3}))}catch(s){R(me(s.message)),n.error(s.message,{autoClose:2e3})}},children:[l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"image_container w-full flex items-center justify-center  relative max-w-[100px] mx-auto",children:[l.jsx("input",{onChange:e=>b(e.target.files[0]),hidden:!0,accept:"image/*",type:"file",name:"profile",id:"profile_image",ref:W}),l.jsx("img",{src:$.avatar||j.avatar,onClick:()=>W.current.click(),className:"h-20 w-20 mb-3 rounded-full border-[1px]  border-[#3A5A40]",alt:"profile image",loading:"lazy"}),l.jsx("i",{className:"h-4 w-4 rounded-full flex items-center justify-center bg-[#3A5A40] text-white absolute bottom-2 right-0",children:l.jsx(v,{})})]}),U?l.jsx("p",{className:"text-xs text-red-700 font-medium text-center",children:"File upload failed"}):N>0&&N<100?l.jsxs("p",{className:"text-xs text-black font-medium text-center",children:["File uploading...",N,"%"]}):100===N&&l.jsx("p",{className:"text-xs text-green-600 font-medium text-center",children:"File uploaded!!!"})]}),l.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Nom d'utilisateur"}),l.jsx("input",{defaultValue:j.username,name:"username",type:"text",placeholder:"Username",className:"form_input bg-slate-200 rounded-md !pl-3 mt-1 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:K}),l.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Email"}),l.jsx("input",{defaultValue:j.email,name:"email",type:"email",placeholder:"email",className:"  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:K}),l.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Mot de Passe"}),l.jsx("input",{type:"password",name:"password",placeholder:"Mot de Passe",className:"mt-1  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40]",onChange:K}),l.jsx("button",{disabled:Y,type:"submit",className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:Y?"Loading...":"Enregistrer"})]}),l.jsx("button",{onClick:async()=>{try{const e=await fetch("api/auth/signout"),s=await e.json();!1===s.success?(R(je(s.message)),n.error(s.message,{autoClose:2e3})):(R(ge()),R(clearSavedListing()))}catch(e){R(je(e.message)),n.error(e.message,{autoClose:2e3})}},className:"py-2 px-5 bg-red-800 text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:"Deconnexion"}),l.jsx("div",{className:"h-[1px] bg-black w-full mt-3"}),l.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>c(!0),children:"Tout partenaires"}),l.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>s(!0),children:"Ajouter partenaires"})]}),Y&&l.jsx(Ce,{}),l.jsx("div",{id:"adminAdd",className:"mt-5 md:mt-0 col-span-3 post_section profile_info p-2 flex flex-col   bg-transparent  w-full overflow-y-auto",children:l.jsx("div",{id:"Projects",className:"",children:J?l.jsxs("div",{children:[l.jsx(Ce,{}),l.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your projects"})]}):l.jsxs("div",{children:[l.jsx("div",{className:"",children:l.jsx("form",{children:l.jsxs("div",{className:"grid grid-cols-6",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-lg font-heading ",children:" type:"}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10  pt-2",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"all",onChange:e=>B(e.target.name,e.target.value),checked:"all"===O.etat}),"Tout"]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"future",onChange:e=>B(e.target.name,e.target.value),checked:"future"===O.etat}),"Future"]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"en cours",onChange:e=>B(e.target.name,e.target.value),checked:"en cours"===O.etat}),"En Cours"]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"terminee",onChange:e=>B(e.target.name,e.target.value),checked:"terminee"===O.etat}),"Réalisé"]})})]})]}),l.jsxs("div",{className:"col-span-3",children:[l.jsx("p",{className:"text-lg font-heading",children:"Amenities:"}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10 pt-2",children:[l.jsx("div",{className:"mr-5",children:l.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"parking",onChange:e=>B(e.target.name,e.target.checked),checked:O.parking}),"Parking"]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"furnished",onChange:e=>B(e.target.name,e.target.checked),checked:O.furnished}),"Espace Comercial"]})}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[l.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"bureau",onChange:e=>B(e.target.name,e.target.checked),checked:O.bureau}),"Bureau"]})})]})]}),l.jsx("div",{className:"btn_cotainer ",children:l.jsx("button",{className:"w-full mt-4 py-2 px-2 bg-[#3A5A40] text-white  hover:bg-[#3A5A40]/90 rounded-lg",type:"submit",children:l.jsxs("span",{className:"flex items-center justify-center font-heading text-lg",children:[l.jsx(y,{className:"mr-1"}),"Effacer Recherche"]})})})]})})}),l.jsxs("div",{className:"grid post_card grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-6 md:h-full overflow-scroll pb-10 px-4 scrollbar-hide md:pt-5",children:[l.jsx("div",{className:"cursor-pointer rounded-md  bg-white  shadow-lg hover:shadow-xl",children:l.jsxs("button",{onClick:()=>G("/create_project"),type:"submit",className:" px-5 bg-slate-300 font-heading shadow-lg text-black text-lg  rounded-sm hover:opacity-95 w-full h-full flex justify-center items-center flex-col py-10 sm:py-10",children:[l.jsx(w,{className:"text-center md:mb-3 md:text-5xl text-black text-sm sm:text-xl"}),"Créer Projet"]})}),M.isProjectExist&&(e=>{const s=5*(F-1);return e.slice(s,s+5)})(M.projects.map((e=>l.jsx(Ae,{projectInfo:{project:e,handleProjectDelete:X}},e._id))))]}),l.jsxs("div",{className:"flex justify-center mt-4",children:[l.jsx("button",{className:"join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 \n                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]\n                                                    ",onClick:()=>{D((e=>e>1?e-1:1))},disabled:1===F,children:l.jsx(k,{})}),l.jsxs("button",{className:"join-item btn bg-[#3A5A40] hover:bg-[#3A5A40] cursor-default text-white",children:["Page ",F," /"," ",M.projects.length%5==0?Math.floor(M.projects.length/5):Math.floor(M.projects.length/5)+1]}),l.jsx("button",{className:"join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 \n                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]\n                                                    ",onClick:()=>{D((e=>e+1))},disabled:F===Math.ceil(M.projects.length/5),children:l.jsx(A,{})})]})]})})}),l.jsx(i,{}),e&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4 max-w-md mx-auto",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Partner"}),l.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o.imgUrl.length>0){const e=o.imgUrl[0],s=S(ke),a=(new Date).getTime()+e.name,t=_(s,a),r=E(t,e);r.on("state_changed",(e=>{e.bytesTransferred,e.totalBytes}),(e=>{n.error("File upload failed")}),(()=>{T(r.snapshot.ref).then((async e=>{try{const s={...o,imgUrl:e},a=await fetch("http://localhost:4000/api/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to add partner")}const t=await a.json();t.success?n.success("Partenaire ajouté avec succès"):n.error(`Failed to add partner: ${t.message}`)}catch(s){n.error(`An error occurred: ${s.message}`)}}))}))}else n.error("Please upload an image");s(!1)},children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700",children:"Partner Image"}),l.jsx("input",{type:"file",multiple:!0,className:"w-full px-4 py-2 border rounded",onChange:e=>{const s=Array.from(e.target.files);m({...o,imgUrl:s})}})]}),l.jsxs("div",{className:" items-center text-center",children:[l.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-[#3A5A40] rounded text-white mx-5",children:"Add Partner"}),l.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>s(!1),children:"Cancel"})]})]})]})}),l.jsx(i,{}),d&&l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 py-16",children:l.jsxs("div",{className:"bg-white rounded-lg  space-y-4 w-full h-full mx-16  text-center",children:[l.jsx("h2",{className:"text-xl font-bold   rounded-b-xl pt-5 pb-2",children:"Les partenaires"}),l.jsx("div",{className:"h-[60vh] overflow-y-auto grid lg:grid-cols-4 sm:grid-cols-2 md:grid-cols-3 border-gray-800",children:x.map(((e,s)=>l.jsx("div",{className:"",children:l.jsxs(C,{className:"max-w-sm shadow-white bg-transparent border-0 mx-auto rounded-lg",children:[l.jsx("img",{src:e.imgUrl[0],alt:`Partner logo for ${e._id}`,loading:"lazy",className:"max-h-[200px] min-h-[200px] w-auto object-contain rounded-lg hover:scale-105 duration-300"}),l.jsx("button",{className:"px-4 py-2 bg-red-800 rounded text-white mx-5",onClick:()=>(async e=>{try{const s=await fetch(`api/partners/${e}`,{method:"DELETE"}),a=await s.json();!1===a.success?n.error(a.message,{autoClose:2e3}):alert("partenaire éffacée")}catch(s){n.error(s.message,{autoClose:2e3})}})(e._id),children:"Effacer"})]})},s)))}),l.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>c(!1),children:"Close"})]})})]}),l.jsx(i,{})]}),l.jsx(ve,{})]})},Pe=()=>{const{currentUser:e}=r((e=>e.user));return e?l.jsx(P,{}):l.jsx(U,{to:"/login"})},Ue=()=>{g.useEffect((()=>{window.scrollTo(0,0)}),[]),g.useState("");const{currentUser:e}=r((e=>e.user)),[t,d]=g.useState([]),[c,o]=g.useState({isError:!1,message:""}),[m,x]=g.useState(!1);g.useState(!1);const[u,h]=g.useState(!1),[p,j]=g.useState({imgUrl:[]}),[f,b]=g.useState(""),[N,v]=g.useState(""),y=a();g.useEffect((()=>{document.getElementById("admin").hidden=!0,"admin"===e.role&&(document.getElementById("admin").hidden=!1)}),[]);const{register:w,handleSubmit:k,getValues:A,setError:C,formState:{errors:P}}=s({mode:"onChange"}),U=e=>new Promise(((s,a)=>{const t=S(ke),r=(new Date).getTime()+e.name,l=_(t,r),i=E(l,e);i.on("state_changed",(e=>{e.bytesTransferred,e.totalBytes}),(e=>{a("File uploaded Falied")}),(()=>{T(i.snapshot.ref).then((e=>{s(e)}))}))}));c.isError&&n.error(c.message,{autoClose:2e3});const $={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},I=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return l.jsx("main",{children:l.jsxs("section",{id:"admin",children:[l.jsx("div",{className:"w-full h-24  rounded-lg"})," ",l.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[l.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Créer un Projet"}),l.jsx("div",{className:"mt-8 form_container",children:l.jsx("form",{onSubmit:k((async s=>{try{x(!0);const a=await fetch("api/projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,description:f,specificity:N,imgUrl:p.imgUrl,userRef:e._id})}),t=await a.json();!1===t.success?(n.error(t.message,{autoClose:2e3}),x(!1)):(y(`/projects/${t._id}`),x(!1))}catch(a){n.error(a.message,{autoClose:2e3}),x(!1)}})),children:l.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[l.jsxs("div",{className:"info_container",children:[l.jsxs("div",{className:"input_feilds",children:[l.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...w("title",{required:"This feild is required*"})}),P.title&&l.jsx("p",{className:"text-gray-800 text-xs",children:P.title.message}),l.jsx(L,{id:"description",type:"text",placeholder:"Description",value:f,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:b,modules:$,formats:I}),l.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...w("address",{required:"This feild is required*"})}),P.address&&l.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:P.address.message})]}),l.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[l.jsxs("div",{className:"property_type",children:[l.jsxs("p",{className:"font-heading text-black",children:["Selectionner l'etat"," "]}),l.jsxs("div",{className:"form-control ",children:[l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...w("etat")}),l.jsx("span",{className:"label-text font-medium",children:"Future"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...w("etat")}),l.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...w("etat")}),l.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),l.jsxs("div",{className:"cd_info mt-3",children:[l.jsx("p",{className:"font-heading text-black",children:" Informations Générales"}),l.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[l.jsx("span",{className:"label-text font-medium",children:"Appartement"}),l.jsxs("div",{children:[l.jsx("input",{defaultValue:0,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...w("area",{required:"required"})}),P.area&&l.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:P.area.message})]})]})]}),l.jsxs("div",{className:"additional_feature mt-3",children:[l.jsx("p",{className:"font-heading text-black",children:"Information Additionnelle"}),l.jsxs("div",{className:"form-control",children:[l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...w("parking")}),l.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...w("furnished")}),l.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"bureau",type:"checkbox",name:"bureau",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...w("bureau")}),l.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]}),l.jsxs("div",{className:"specificity mt-3",children:[l.jsx("p",{className:"font-heading text-black",children:"Spécificité"}),l.jsx(L,{id:"specificity",type:"text",value:N,onChange:v,className:"border-2 focus:border-[#3A5A40] rounded-md w-full mt-2",placeholder:"Description de la spécificité...",modules:$,formats:I})]})]})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[l.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"La premiére image sera l'image de couverture (max:12)"]}),l.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[l.jsx("input",{onChange:e=>d(e.target.files),required:!0,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] ${u?"md:w-4/6":"md:w-4/5"} w-full`}),l.jsx("button",{disabled:u||0===t.length,onClick:async()=>{if(t.length>0&&t.length+p.imgUrl.length<13){h(!0);const e=[];for(let s=0;s<t.length;s++)e.push(U(t[s])),Promise.all(e).then((e=>{j({...p,imgUrl:p.imgUrl.concat(e)}),h(!1)})).catch((e=>{o({...c,isError:!0,message:e}),h(!1)}))}else o({...c,isError:!0,message:"Select file first (max:12)"}),h(!1)},type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${u?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-gray-500 disabled:text-gray-500`,children:u?"Uploading...":"Upload"})]}),l.jsxs("div",{children:[p.imgUrl.length>0&&p.imgUrl.map(((e,s)=>l.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[l.jsx("img",{src:e,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),l.jsx("button",{onClick:()=>(e=>{j({...p,imgUrl:p.imgUrl.filter((s=>s!=p.imgUrl[e]))})})(s),type:"button",className:"font-medium text-lg text-gray-800 flex items-center underline hover:opacity-75",children:"Delete"})]},s))),l.jsx("div",{className:"post_btn mt-7",children:l.jsx("button",{disabled:p.imgUrl.length<1||u||m,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:m?"Creating...":"Create Project"})})]})]})]})})})]}),l.jsx(i,{})]})})},Le=()=>{const[e,t]=g.useState(""),[d,c]=g.useState("");g.useEffect((()=>{window.scrollTo(0,0)}),[]);const{currentUser:o}=r((e=>e.user)),[m,x]=g.useState([]),[u,h]=g.useState({isError:!1,message:""}),[p,j]=g.useState(!1),[f,b]=g.useState(!1),[N,v]=g.useState(!1),[y,w]=g.useState({imgUrl:[]}),[k,A]=g.useState(!1),C=a(),P=$(),{register:U,handleSubmit:I,getValues:F,setValue:D,formState:{errors:z}}=s({mode:"onChange"});g.useEffect((()=>{document.getElementById("admin").hidden=!0,"admin"===o.role&&(document.getElementById("admin").hidden=!1);(async()=>{A(!0);const e=await fetch(`http://localhost:4000/api/projects/${P.id}`),s=await e.json();!1===s.success?(n.error(s.message,{autoClose:2e3}),A(!1)):(O(s),w({...y,imgUrl:s.imgUrl}),s.offer&&b(!0),A(!1))})()}),[]);const O=e=>{D("title",e.title),t(e.description),c(e.specificity),D("address",e.address),D("area",e.area&&e.area),D("furnished",e.furnished),D("parking",e.parking),D("etat",e.etat),D("offer",e.offer),D("bureau",e.bureau)},q=e=>new Promise(((s,a)=>{const t=S(ke),r=(new Date).getTime()+e.name,l=_(t,r),i=E(l,e);i.on("state_changed",(e=>{e.bytesTransferred,e.totalBytes}),(e=>{a("File uploaded Falied")}),(()=>{T(i.snapshot.ref).then((e=>{s(e)}))}))}));u.isError&&n.error(u.message,{autoClose:2e3});const R={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},B=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return l.jsx("main",{children:k?l.jsxs("div",{children:[l.jsx("div",{className:"w-full h-32  rounded-lg"}),l.jsx(Ce,{}),l.jsx("p",{className:"font-heading text-[#3A5A40] text-lg sm:text-2xl text-center",children:"Loading..."})]}):l.jsxs("section",{id:"admin",children:[l.jsx("div",{className:"w-full h-32 "}),l.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[l.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Mise à jour Projet"}),l.jsx("div",{className:"mt-8 form_container",children:l.jsx("form",{onSubmit:I((async s=>{try{j(!0);const a=await fetch(`http://localhost:4000/api/projects/${P.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,description:e,specificity:d,imgUrl:y.imgUrl,userRef:o._id})}),t=await a.json();!1===t.success?(n.error(t.message,{autoClose:2e3}),j(!1)):(C(`/projects/${t._id}`),j(!1))}catch(a){n.error(a.message,{autoClose:2e3}),j(!1)}})),children:l.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[l.jsxs("div",{className:"info_container",children:[l.jsxs("div",{className:"input_feilds",children:[l.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...U("title",{required:"This feild is required*"})}),z.title&&l.jsx("p",{className:"text-red-700 text-xs",children:z.title.message}),l.jsx(L,{id:"description",type:"text",placeholder:"Description",value:e,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:t,modules:R,formats:B}),z.description&&l.jsx("p",{className:"text-red-700 text-xs",children:z.description.message}),l.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...U("address",{required:"This feild is required*"})}),z.address&&l.jsx("p",{className:"text-red-700 text-xs font-semibold",children:z.address.message})]}),l.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[l.jsxs("div",{className:"property_type",children:[l.jsx("p",{className:"font-heading text-black",children:"Selectionner l'etat "}),l.jsxs("div",{className:"form-control ",children:[l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...U("etat")}),l.jsx("span",{className:"label-text font-medium",children:"Future"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...U("etat")}),l.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2\n                                            ",children:[l.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...U("etat")}),l.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),l.jsxs("div",{className:"property_info mt-3",children:[l.jsx("p",{className:"font-heading text-black",children:"Genarel Information"}),l.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[l.jsx("span",{className:"label-text font-medium",children:"Appartements "}),l.jsxs("div",{children:[l.jsx("input",{defaultValue:550,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] min-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...U("area",{required:"required"})}),z.area&&l.jsx("p",{className:"text-red-700 text-xs font-semibold",children:z.area.message})]})]})]}),l.jsxs("div",{className:"additional_feature mt-3",children:[l.jsx("p",{className:"font-heading text-black",children:"Additional Information"}),l.jsxs("div",{className:"form-control",children:[l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...U("parking")}),l.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...U("furnished")}),l.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),l.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[l.jsx("input",{id:"bureau",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...U("bureau")}),l.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]})]})]}),l.jsx(L,{id:"specificity",value:d,onChange:c,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",placeholder:"Specificité",modules:R,formats:B}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[l.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"First image will be cover image (max:9)"]}),l.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[l.jsx("input",{onChange:e=>x(e.target.files),required:y.imgUrl<1,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] bg-red-00 ${N?"md:w-4/6":"md:w-4/5"} w-full`}),l.jsx("button",{disabled:N,onClick:async()=>{if(m.length>0&&m.length+y.imgUrl.length<13){v(!0);const e=[];for(let s=0;s<m.length;s++)e.push(q(m[s])),Promise.all(e).then((e=>{w({...y,imgUrl:y.imgUrl.concat(e)}),v(!1)})).catch((e=>{h({...u,isError:!0,message:e}),v(!1)}))}else h({...u,isError:!0,message:"Select file first (max:6)"}),v(!1)},type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${N?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-yellow-500 disabled:text-yellow-500`,children:N?"Uploading...":"Upload"})]}),l.jsxs("div",{children:[y.imgUrl&&y.imgUrl.length>0&&y.imgUrl.map(((e,s)=>l.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[l.jsx("img",{src:e,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),l.jsx("button",{onClick:()=>(e=>{w({...y,imgUrl:y.imgUrl.filter((s=>s!=y.imgUrl[e]))})})(s),type:"button",className:"font-medium text-lg text-red-700 flex items-center underline hover:opacity-75",children:"Delete"})]},s))),l.jsx("div",{className:"post_btn mt-7",children:l.jsx("button",{disabled:y.imgUrl.length<1||N||p,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:p?"Updating...":"Update Project"})})]})]})]})})})]}),l.jsx(i,{})]})})},$e=({project:e})=>{const s=a(),{title:t,imgUrl:r,description:i,_id:n}=e;return l.jsx("div",{className:"listing_card bg-transparant  rounded-lg w-full  group sm:mr-auto sm:ml-0 mx-auto shadow-lg shadow-gray-400",onClick:()=>s(`/projects/${n}`),children:l.jsxs("div",{className:"card-container",children:[l.jsx("div",{className:"image_container relative overflow-hidden h-70 cursor-pointer items-center p-2",children:l.jsx("img",{className:"max-h-[300px] min-h-[300px] w-full object-cover rounded-lg hover:scale-105 duration-300 ",src:r[0],alt:"property image",loading:"lazy"})}),l.jsx("div",{className:"card_body  duration-500 mt-1 h-28  ",children:l.jsxs("div",{className:"content-container p-3 pb-0 cursor-pointer",children:[l.jsx("h2",{className:"text-lg text-black font-bold truncate uppercase duration-300 group-hover:text-black ",children:t}),l.jsx("div",{className:"text-sm text-gray-600 overflow-hidden overflow-ellipsis",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineHeight:"1.2em",maxHeight:"3.6em",whiteSpace:"normal"},children:l.jsx("div",{dangerouslySetInnerHTML:{__html:i}})})]})})]})})},Ie=()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid sm:hidden",children:l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]})}),l.jsxs("div",{className:"hidden lg:hidden sm:grid grid-cols-2 gap-5",children:[l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]})]}),l.jsxs("div",{className:"hidden xl:hidden  lg:grid grid-cols-3 gap-5",children:[l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]})]}),l.jsxs("div",{className:"hidden xl:grid grid-cols-4 gap-5",children:[l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]}),l.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[l.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),l.jsx("div",{className:"p-3 h-",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),l.jsx("div",{className:"..."}),l.jsx("div",{className:"col-span-2 ..."})]})})]})]})]}),Fe=()=>{const[e,s]=g.useState(!0),[t,r]=g.useState([]),i=a();function n(e){const{className:s,style:a,onClick:t}=e;return l.jsx("div",{className:s,style:{...a,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",right:"-15px",zIndex:1},onClick:t})}function d(e){const{className:s,style:a,onClick:t}=e;return l.jsx("div",{className:s,style:{...a,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",left:"-15px",zIndex:1},onClick:t})}g.useEffect((()=>{(async()=>{try{s(!0);const e=await fetch("http://localhost:4000/api/projects/"),a=await e.json();!1===a.success||r(a),s(!1)}catch(e){s(!1)}})()}),[]);const c={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,nextArrow:l.jsx(n,{}),prevArrow:l.jsx(d,{}),autoplay:!0,autoplaySpeed:2e3,appendDots:e=>l.jsxs("ul",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},children:[e.slice(0,5),e.length>5&&l.jsx("li",{className:"justify:center  "})]}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return l.jsx("section",{children:l.jsxs("div",{className:"mx-auto max-w-screen-xl  space-y-8 px-4 py-16 sm:px-6 lg:space-y-16 lg:px-8",children:[l.jsx("div",{className:"content",children:l.jsx("h2",{className:"text-xl  sm:text-3xl font-bold  text-[#515557] sm:text-left ",children:"NOS PROJETS"})}),l.jsx("div",{className:"post_container !mt-4",children:e?l.jsx(Ie,{}):l.jsx("div",{className:"slider_container",children:l.jsx(I,{...c,className:"z-10 relative gap-3",children:t&&t.map((e=>l.jsx($e,{project:e},e._id)))})})}),l.jsx("div",{className:"btn_container flex items-center justify-center ",children:l.jsxs("button",{className:"group relative inline-flex items-center overflow-hidden rounded bg-[#3A5A40] px-8 py-3 text-black ",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 50%, rgba(123,231,26,1) 100%)"},onClick:()=>i("/searchProject?"),children:[l.jsx("span",{className:"absolute -end-full transition-all group-hover:end-4",children:l.jsx("svg",{className:"h-5 w-5 rtl:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),l.jsx("span",{className:"text-sm font-medium transition-all  group-hover:me-4",children:"Voir plus"})]})})]})})},De=()=>{const e=F(),[s,d]=g.useState({}),[c,o]=g.useState(!1),[m,x]=g.useState(!1),{address:u,description:h,specificity:p,title:j}=s,f=a(),b=$(),{currentUser:N}=r((e=>e.user));function v({onClick:e}){return l.jsx("div",{className:"absolute top-1/2 left-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-e-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:e,children:l.jsx(R,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}function y({onClick:e}){return l.jsx("div",{className:"absolute top-1/2 right-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-s-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:e,children:l.jsx(B,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}t(),g.useEffect((()=>{window.scrollTo(0,0)}),[e]),g.useEffect((()=>{window.scrollTo(0,0),(async()=>{x(!0);const e=await fetch(`http://localhost:4000/api/projects/${b.id}`),s=await e.json();!1===s.success?(n.error(s.message,{autoClose:2e3}),x(!1)):(d(s),x(!1))})()}),[b.id]);const w={infinite:!0,lazyLoad:!1,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:l.jsx(y,{to:"next"}),prevArrow:l.jsx(v,{to:"prev"}),appendDots:e=>l.jsx("div",{style:{bottom:25},children:l.jsxs("ul",{style:{margin:"0px",color:"#fff"},children:[" ",e," "]})})};return l.jsxs(l.Fragment,{children:[m?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{}),l.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your project.."})]}):l.jsxs("div",{className:"listing_section pb-16",children:[l.jsx("div",{className:"w-full h-32 "}),l.jsx("div",{className:"container mb-4",children:l.jsxs("button",{onClick:()=>f(-1),className:"flex items-center hover:bg-[#3A5A40]/90 text-black px-6 py-2 rounded-md font-heading",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 40%, rgba(123,331,36,1) 100%)"},children:[l.jsx(D,{className:"mr-2"}),"Retour"]})}),l.jsx(I,{...w,className:"z-10 relative",children:s.imgUrl&&s.imgUrl.map(((e,s)=>{return l.jsx("div",{className:"w-full mx-auto z-10",children:(t=e,r=53,a="string"==typeof t&&t.length>r?t.slice(0,-r):t,a.endsWith(".mp4")?l.jsx("video",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:e,alt:"video",autoPlay:"true",controls:!0,muted:"false",loop:"true"}):l.jsx("img",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:e,alt:"image",loading:"lazy"}))},s);var a,t,r}))}),l.jsx("div",{className:"container ",children:l.jsx("div",{className:"property_details_container pt-4 sm:pt-12 ",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsxs("div",{className:"lg:col-span-7  ",children:[l.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:l.jsxs("div",{className:"property_info",children:[l.jsx("h1",{className:"font-heading font-bold mt-5 md:mt-8 text-2xl sm:text-3xl text-black capitalize",children:j}),l.jsxs("p",{className:"font-content mt-3 font-medium text-lg flex items-center justify-left",children:[l.jsx(z,{className:"text-[#3A5A40]"}),l.jsx("span",{className:"ml-1",children:u})]}),l.jsxs("div",{className:"description",children:[l.jsx("p",{className:"font-heading mt-4 font-medium text-lg sm:text-xl",children:"Description"}),l.jsx("div",{className:"description-content break-words",dangerouslySetInnerHTML:{__html:h}})]})]})}),l.jsxs("div",{className:"property_details mt-8 bg-white rounded-md shadow-sm shadow-[#3A5A40] md:px-12 py-5 px-6 "+(N&&"admin"===N.role?"block":"hidden"),children:[l.jsxs("div",{onClick:()=>o(!c),className:"feature_heading flex items-center justify-between cursor-pointer",children:[l.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),c?l.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:l.jsx(O,{className:"text-xl text-[#3A5A40]"})}):l.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:l.jsx(q,{className:"text-xl text-[#3A5A40]"})})]}),l.jsx("div",{className:`feature_info  transition-max-h ${c?"max-h-screen":"max-h-0"} overflow-hidden duration-500 ease-in-out`,children:l.jsx("div",{className:"specificity",children:l.jsx("div",{className:"specificity-content break-words",dangerouslySetInnerHTML:{__html:p}})})})]})]}),l.jsx("div",{className:"lg:col-span-5",children:l.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:N&&"admin"===N.role?l.jsxs("div",{className:"project_owner",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 sm:gap-5 gap-2 ",children:[l.jsx("div",{className:"btn_container",children:l.jsx("button",{onClick:()=>f(`/update_project/${b.id}`),className:"bg-[#3A5A40] hover:bg-[#3A5A40]/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Modifier Project"})}),l.jsx("div",{className:"contant_btn_container",children:l.jsx("button",{onClick:()=>(async e=>{try{const s=await fetch(`http://localhost:4000/api/projects/${e}`,{method:"DELETE"}),a=await s.json();!1===a.success?n.error(a.message,{autoClose:2e3}):f("/profile")}catch(s){n.error(s.message,{autoClose:2e3})}})(b.id),className:"bg-red-600 hover:bg-red-600/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Supprimer Project"})})]}),l.jsx("div",{className:"contant_btn_container mt-3",children:l.jsx("button",{onClick:()=>f("/profile"),className:"bg-amber-700 hover:bg-amber-700/90 uppercase text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Tous les Projects"})})]}):l.jsxs("div",{className:"feature_info transition-max-h max-h-screen overflow-hidden duration-500 ease-in-out",children:[l.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),l.jsx("div",{className:"info_contaier mt-5 max-w-md",children:l.jsx("div",{className:"mt-4",children:p?l.jsx("div",{className:"font-heading text-md lg:text-lg specificity-content break-words",dangerouslySetInnerHTML:{__html:p}}):l.jsx("p",{className:"font-heading text-md lg:text-lg text-gray-500",children:"Aucune spécificité disponible"})})})]})})})]})})}),l.jsx(i,{})]}),l.jsx(Fe,{}),l.jsx(ve,{})]})},ze=()=>{g.useEffect((()=>{window.scrollTo(0,0)}),[]);const[e,s]=g.useState([]),{searchTermState:a}=r((e=>e.search)),[i,n]=g.useState(!1),[d,c]=g.useState(1),o=g.useRef(),[m,x]=g.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),u=t();g.useEffect((()=>{(async()=>{try{n(!0);const e=await fetch(`http://localhost:4000/api/projects/search?searchTerm=${a}&etat=${m.etat}&parking=${m.parking}&furnished=${m.furnished}&bureau=${m.bureau}&page=${d}`),t=await e.json();!1===t.success||s(t),n(!1)}catch(e){n(!1)}})()}),[m,a,d]),g.useEffect((()=>{const e=new URLSearchParams(location.search).get("filter");e&&x((s=>({...s,etat:e})))}),[location.search]);const h=(e,s)=>{c(1),x({...m,[e]:s})};return g.useEffect((()=>{o.current.scrollIntoView({behavior:"smooth"})}),[e]),l.jsxs(l.Fragment,{children:[l.jsx("section",{children:l.jsxs("div",{ref:o,children:[l.jsx("div",{className:"w-full h-32 rounded-lg"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-5 lg:max-h-full lg:min-h-screen",children:[l.jsx("div",{className:"option_container md:col-span-3 mt-1 bg-gray-50 lg:max-h-full lg:min-h-screen shadow-md rounded-lg",children:l.jsx("div",{className:"items_container p-6 py-8",children:l.jsxs("form",{onSubmit:e=>{e.preventDefault(),u(_e("")),x({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1})},children:[l.jsxs("div",{className:"form-control w-full max-w-full relative mb-6",children:[l.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-full px-4 py-3 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500",onChange:e=>u(_e(e.target.value)),value:a}),l.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-3 mr-4 text-green-500 hover:text-green-700",children:l.jsx(M,{size:20})})]}),l.jsxs("div",{className:"fields_container mb-4",children:[l.jsx("p",{className:"text-lg font-bold mb-2",children:"Type:"}),l.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["all","future","en cours","terminee"].map((e=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"radio",name:"etat",value:e,className:"form-radio h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:e=>h(e.target.name,e.target.value),checked:m.etat===e}),l.jsx("span",{className:"text-sm",children:{all:"Tous",future:"Future","en cours":"En cours",terminee:"Termine"}[e]})]},e)))})]}),l.jsxs("div",{className:"amenities_container mb-4",children:[l.jsx("p",{className:"text-lg font-bold mb-2",children:"Équipements:"}),l.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["parking","bureau"].map((e=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",name:e,className:"form-checkbox h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:e=>h(e.target.name,e.target.checked),checked:m[e]}),l.jsx("span",{className:"text-sm",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))})]}),l.jsx("div",{className:"btn_container w-full",children:l.jsx("button",{className:"w-full py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition duration-150 ease-in-out",type:"submit",children:l.jsxs("span",{className:"flex items-center justify-center font-bold text-lg",children:[l.jsx(y,{className:"mr-2"}),"Effacer Recherche"]})})})]})})}),l.jsx("div",{className:"listing_container md:col-span-9 pb-10 pt-2",children:i?l.jsxs("div",{className:"loading_container mt-40 flex items-center justify-center flex-col",children:[l.jsx(y,{className:"text-green-500 text-xl"}),l.jsx("p",{className:"font-heading text-lg text-center text-green-500",children:"Searching..."})]}):l.jsx("div",{children:0!==e.length?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 px-5 gap-y-8",children:e.map((e=>l.jsx($e,{project:e},e._id)))}),l.jsx("div",{className:"pagination_part mt-8 md:mt-14 w-full flex items-center justify-center",children:l.jsxs("div",{className:"join",children:[l.jsx("button",{onClick:()=>c(d-1),disabled:d<=1||i,className:"join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out \n                                                    disabled:bg-gray-300 disabled:text-gray-500",children:l.jsx(k,{})}),l.jsxs("button",{className:"join-item btn bg-green-500 text-white cursor-default",children:["Page ",d]}),l.jsx("button",{onClick:()=>c(d+1),disabled:e.length-12*(d-1)<12||i,className:"join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out\n                                                    disabled:bg-gray-300 disabled:text-gray-500",children:l.jsx(A,{})})]})})]}):l.jsxs("div",{className:"mt-40 flex items-center justify-center flex-col",children:[l.jsx(V,{className:"text-green-500 text-3xl"}),l.jsx("p",{className:"font-heading text-lg text-center text-green-500",children:"Sorry, Listings not found"})]})})})]})]})}),l.jsx(ve,{})]})};function Oe(){const[e,s]=g.useState(!1),{currentUser:a}=r((e=>e.user)),[t,i]=g.useState(0),[n,c]=g.useState(!0),[o,m]=g.useState(!1),[x,u]=g.useState("bg-transparent"),h=g.useRef(null),p=()=>{s(!1),m(!1)},j=F();g.useEffect((()=>{const e=()=>{const e=window.scrollY;i(e),u(e>0?" bg-white-100/100 backdrop-blur-md":"bg-transparent"),c(e<t)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[t]);g.useEffect((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[h]);const f=({isActive:e})=>`\n    text-black font-bold text-md sm:text-lg md:text-sm lg:text-xl md:mx-1 lg:mx-8 my-3\n    transform translate-y-2 ${e?"text-green-600":"hover:text-[#006400]"} \n      hover:rounded-lg hover:p-0\n  `,b=({isActive:e})=>`\n    block px-4 py-2 ${e?"text-green-600":"hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"}\n  `,N=j.pathname.includes("/searchProject");return l.jsx(J,{fluid:!0,rounded:!0,className:`fixed top-0 left-0 right-0 rounded-lg justify-between w-full z-50 transition-transform duration-300 ${x} ${n?"translate-y-0":"-translate-y-full"}`,children:l.jsxs("div",{className:"flex flex-wrap rounded-lg md:flex-nowrap pb-6 w-full items-center justify-between",children:[l.jsx(J.Brand,{href:"/",children:l.jsx("img",{src:Ne,className:"relative mr-3 h-16 sm:h-32 md:h-28 lg:h-20 ml-10 transition-transform duration-300 "+(t>0?"scale-90":"scale-100"),alt:"nom",loading:"eager"})}),l.jsxs("div",{className:"flex sm:mr-1 items-center md:order-2",children:[a&&l.jsx(H,{className:f,children:l.jsx(d,{to:"/profile",className:"hover:text-black",children:"ADMIN"})}),l.jsx("button",{className:"block md:hidden m-4",onClick:()=>{s(!e)},children:l.jsx("img",{src:e?"/assets/close-7102505b.svg":"/assets/hamburgerMenu-688e0e93.svg",alt:"menu",className:"h-16 w-6 ",loading:"lazy"})})]}),l.jsxs(J.Collapse,{className:"w-full flex-col md:flex-row md:w-auto md:items-center ml-32  "+(e?"block bg-white/90 p-6 rounded-3xl text-black pt-4 ":"hidden md:flex"),children:[l.jsx(H,{className:f,to:"/",end:!0,onClick:p,children:"ACCUEIL"}),l.jsx(H,{className:f,to:"/apropos",onClick:p,children:"A PROPOS"}),l.jsxs("div",{className:"relative",onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},ref:h,children:[l.jsxs("span",{className:`${f({isActive:N})} flex items-center cursor-pointer`,onClick:()=>{m(!o)},children:["NOS PROJETS",l.jsx("svg",{className:"w-2.5 h-2.5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),o&&l.jsx("div",{className:"absolute z-50 bg-white divide-y divide-gray-100 rounded-lg shadow w-72 dark:bg-gray-700",children:l.jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200",children:[l.jsx("li",{children:l.jsx(H,{to:"/searchProject?filter=terminee",className:b,onClick:p,children:"Projets Réalisés"})}),l.jsx("li",{children:l.jsx(H,{to:"/searchProject?filter=en cours",className:b,onClick:p,children:"Projet En Cours"})}),l.jsx("li",{children:l.jsx(H,{to:"/searchProject?filter=future",className:b,onClick:p,children:"Futures Projets"})})]})})]}),l.jsx(H,{className:f,to:"/contact",children:"CONTACT"})]})]})})}class qe extends W.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){}render(){return this.state.hasError?this.props.fallback||l.jsx("h1",{children:"Oops! Something went wrong."}):this.props.children}}const Re=W.lazy((()=>ie((()=>import("./Homee-005d7bd5.js")),["assets/Homee-005d7bd5.js","assets/vendor-ea00a4ff.js","assets/vendor-7fbad150.css","assets/StateCardAbout-81538901.js","assets/webe1-06e2d381.js","assets/Homee-64416f9c.css"]))),Be=W.lazy((()=>ie((()=>import("./About-b4842b02.js")),["assets/About-b4842b02.js","assets/vendor-ea00a4ff.js","assets/vendor-7fbad150.css","assets/StateCardAbout-81538901.js","assets/Newsetter-ca987629.js"]))),Me=W.lazy((()=>ie((()=>import("./Contact-4b0f2331.js")),["assets/Contact-4b0f2331.js","assets/vendor-ea00a4ff.js","assets/vendor-7fbad150.css","assets/webe1-06e2d381.js","assets/Newsetter-ca987629.js"])));function Ve(){return l.jsx(l.Fragment,{children:l.jsxs(Y,{children:[l.jsx(Oe,{}),l.jsx(qe,{fallback:l.jsx("p",{children:"Une erreur s'est produite. Veuillez réessayer plus tard."}),children:l.jsx(g.Suspense,{fallback:l.jsx("div",{children:"Chargement..."}),children:l.jsxs(G,{children:[l.jsx(K,{path:"/login",element:l.jsx(ye,{})}),l.jsx(K,{path:"/",element:l.jsx(Re,{})}),l.jsx(K,{path:"/projects/:id",element:l.jsx(De,{})}),l.jsx(K,{path:"/searchProject?",element:l.jsx(ze,{})}),l.jsx(K,{path:"/apropos",element:l.jsx(Be,{})}),l.jsx(K,{path:"/contact",element:l.jsx(Me,{})}),l.jsxs(K,{element:l.jsx(Pe,{}),children:[l.jsx(K,{path:"/profile",element:l.jsx(Te,{})}),l.jsx(K,{path:"/create_project",element:l.jsx(Ue,{})}),l.jsx(K,{path:"/update_project/:id",element:l.jsx(Le,{})})]})]})})})]})})}const Je=Q({reducer:Z({key:"root",storage:se,whitelist:["user"]},X({user:fe,search:Ee})),middleware:e=>e({serializableCheck:!1})}),He=ee(Je);ae.createRoot(document.getElementById("root")).render(l.jsx(te,{store:Je,children:l.jsx(re,{loading:null,persistor:He,children:l.jsx(Ve,{})})}));export{qe as E,ve as F,$e as P,Ie as S,Fe as a};
