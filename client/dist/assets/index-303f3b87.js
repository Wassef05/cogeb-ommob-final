import{c as Pe,u as Ne,a as H,b as de,d as M,j as e,k as V,Q as v,e as me,L as Q,F as X,f as Ye,g as Ke,h as Xe,i as Qe,l as es,m as ss,r as a,n as ts,o as as,p as rs,q as fe,A as ns,s as be,B as ls,t as Te,v as _e,C as is,w as ae,x as re,y as ne,z as le,O as os,N as cs,R as ie,D as Le,S as Oe,E as Ue,G as ds,H as ms,I as us,J as xs,K as hs,M as ps,P as gs,T as fs,U as je,V as W,W as js,X as ue,Y as Re,Z as bs,_ as Ns,$ as vs,a0 as D,a1 as ys,a2 as ws,a3 as As,a4 as ks,a5 as Ss,a6 as Es,a7 as Cs,a8 as Ps,a9 as Ts}from"./vendor-2eff087f.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))h(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&h(c)}).observe(document,{childList:!0,subtree:!0});function m(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function h(o){if(o.ep)return;o.ep=!0;const l=m(o);fetch(o.href,l)}})();const _s="modulepreload",Ls=function(s){return"/"+s},we={},ve=function(r,m,h){if(!m||m.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(m.map(l=>{if(l=Ls(l),l in we)return;we[l]=!0;const c=l.endsWith(".css"),N=c?'[rel="stylesheet"]':"";if(!!h)for(let d=o.length-1;d>=0;d--){const y=o[d];if(y.href===l&&(!c||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${N}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":_s,c||(n.as="script",n.crossOrigin=""),n.href=l,document.head.appendChild(n),c)return new Promise((d,y)=>{n.addEventListener("load",d),n.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>r()).catch(l=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l})},Os={currentUser:null,loading:!1,signinError:null,error:null},Ie=Pe({name:"user",initialState:Os,reducers:{loddingStart:s=>{s.loading=!0},signinSuccess:(s,r)=>{s.currentUser=r.payload,s.loading=!1,s.signinError=!1},signinFailed:(s,r)=>{s.signinError=r.payload,s.loading=!1},userUpdateSuccess:(s,r)=>{s.currentUser=r.payload,s.loading=!1,s.error=!1},userUpdateFailed:(s,r)=>{s.loading=!1,s.error=r.payload},userDeleteSuccess:s=>{s.loading=!1,s.currentUser=null,s.error=!1},userDeleteFail:(s,r)=>{s.loading=!1,s.error=r.payload},signoutSuccess:s=>{s.loading=!1,s.currentUser=null,s.error=!1},signoutFailed:(s,r)=>{s.loading=!1,s.error=r.payload}}}),{loddingStart:Fe,signinSuccess:Us,signinFailed:Ae,userUpdateFailed:ke,userUpdateSuccess:Rs,userDeleteStart:Jt,userDeleteSuccess:Gt,userDeleteFail:Wt,signoutSuccess:Se,signoutFailed:Ee}=Ie.actions,Is=Ie.reducer,Fs=()=>{const{register:s,handleSubmit:r,formState:{errors:m}}=Ne(),h=H(),o=de(),{loading:l}=M(N=>N.user),c=async N=>{o(Fe());try{const j=await fetch("https://immob-back.onrender.com/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!j.ok){const d=await j.json();throw new Error(d.message||"Erreur lors de l'authentification.")}const n=await j.json();console.log(n),n.success===!1?(o(Ae(n.message)),v.error(n.message,{autoClose:2e3})):n.role==="admin"?(o(Us(n)),h("/profile")):(alert("Vous n'êtes pas autorisé."),window.location.reload())}catch(j){o(Ae(j.message)),console.error("Erreur:",j.message),v.error(j.message,{autoClose:2e3})}};return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:r(c),children:[e.jsx("input",{...s("email",{required:!0}),type:"email",placeholder:"Email",className:"form_input mt-5",autoComplete:"email"}),m.email&&e.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),e.jsx("input",{...s("userPassword",{required:!0}),type:"password",placeholder:"Password",className:"form_input mt-5",autoComplete:"current-password"}),m.password&&e.jsx("span",{className:"text-red-700 font-semibold text-sm mb-2 mt-1",children:"Ce champ est obligatoire."}),e.jsx("button",{type:"submit",disabled:l,className:"btn bg-[#3A5A40] text-white mt-5 rounded-md w-full hover:bg-[#3A5A40]/[.90]",children:l?"Loading...":"Login"})]}),e.jsx(V,{limit:0})]})},Ds="/assets/close-7102505b.svg",Ms="/assets/hamburgerMenu-688e0e93.svg",De="/assets/logo-e17a09a4.webp",$s="/assets/eng-a1d04281.jpg",Bs="/assets/fr-f26690a8.jpg",xe=()=>{const{t:s}=me(),r=new Date().getFullYear();return e.jsxs("footer",{className:"bg-gradient-to-r from-slate-300 to-slate-200 mt-16 pt-20 p-10 font-sans tracking-wide",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{className:"lg:flex lg:items-center flex-col",children:[e.jsx(Q,{to:"#",children:e.jsx("img",{src:De,alt:"logo",className:"mx-auto",loading:"lazy"})}),e.jsx("p",{className:"mt-4 text-black",children:s("footer.vision")})]}),e.jsxs("nav",{children:[e.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:s("footer.links")}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx(Q,{to:"/",className:"text-black hover:text-black text-sm font-bold",children:s("footer.home")})}),e.jsx("li",{children:e.jsx(Q,{to:"/about",className:"text-black hover:text-black text-sm font-bold",children:s("footer.about")})}),e.jsx("li",{children:e.jsx(Q,{to:"/searchProject",className:"text-black hover:text-black text-sm font-bold",children:s("footer.projects")})}),e.jsx("li",{children:e.jsx(Q,{to:"/contact",className:"text-black hover:text-black text-sm font-bold",children:s("footer.contact")})})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-black text-lg font-bold mb-6",children:s("footer.contactTitle")}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-sm font-bold",children:"cogebimmobiliere@gmail.com"})}),e.jsx("li",{children:e.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-sm font-bold",children:"+216 73 323 435"})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-black hover:text-black text-sm font-bold",children:[e.jsx(X,{icon:Ye})," ",s("footer.address")]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-black text-lg font-bold mb-6",children:s("footer.followUs")}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(X,{icon:Ke})}),e.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(X,{icon:Xe})}),e.jsx("a",{href:"mailto:cogebimmobiliere@gmail.com",className:"text-black hover:text-black text-2xl",children:e.jsx(X,{icon:Qe})})]}),e.jsx("p",{className:"mt-4 text-sm text-black",children:s("footer.stayConnected")}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[e.jsx("a",{href:"https://wa.me/21673323435",target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-black text-2xl",children:e.jsx(X,{icon:es})}),e.jsx("a",{href:"tel:+21673323435",className:"text-black hover:text-black text-2xl",children:e.jsx(X,{icon:ss})})]})]})]}),e.jsxs("p",{className:"text-black-300 text-center text-sm mt-10",children:["© ",s("footer.copyright")," ",r," ",s("footer.rightsReserved")]})]})},zs=()=>(a.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsx("section",{className:"form-section py-10 md:py-20 ",children:e.jsx("div",{className:"container ",children:e.jsxs("div",{className:"form-container px-4 sm:px-8 bg-white py-6 pb-8 sm:py-9 sm:pb-12 max-w-lg mx-auto rounded-sm border-[1px] border-[#3A5A40]/50 shadow-brand shadow-[#3A5A40]/40",children:[e.jsx("h1",{className:"text-left text-[#3A5A40] mb-3 font-medium font-heading text-md sm:text-xl",children:"Login"}),e.jsx(Fs,{}),e.jsx(V,{limit:0})]})})}),e.jsx(xe,{})]})),qs={apiKey:"AIzaSyB8X4k_NZ4aKLwsXvB0IViv3c-w6EJv_A0",authDomain:"cojeb-property-sale-3f10a.firebaseapp.com",projectId:"cojeb-property-sale-3f10a",storageBucket:"gs://cojeb-property-sale-3f10a.appspot.com",messagingSenderId:"483531472357",appId:"1:483531472357:web:b1d4be16d4abbbf5cbc30c",measurementId:"G-85NW2J18MH"},Me=ts(qs);as(Me);const oe=Me,Vs=({projectInfo:s})=>{if(!s||!s.project)return e.jsx("div",{children:"Project data is missing"});const{address:r,etat:m,description:h,furnished:o,imgUrl:l,parking:c,title:N,_id:j,bureau:n,area:d}=s.project,y=H();return e.jsxs("div",{className:"rounded-md bg-white shadow-lg hover:shadow-xl",children:[e.jsxs("div",{onClick:()=>y(`/projects/${j}`),className:"relative flex items-end overflow-hidden rounded-md h-[200px] cursor-pointer",children:[e.jsx("img",{className:"hover:scale-105 object-cover h-full w-full duration-300",src:l[0],alt:"wallpaper",loading:"lazy"}),e.jsx("div",{className:"absolute bottom-3 left-3 inline-flex items-center rounded-sm bg-[#3A5A40] px-2 py-1 shadow-md",children:e.jsx("span",{className:"text-xs text-white uppercase font-bold",children:m==="future"?"Future":m==="en cours"?"En cours":m==="terminee"?"Terminé":""})}),e.jsx("div",{className:"absolute bottom-3 right-3 inline-flex items-center rounded-sm px-2 py-1",children:e.jsxs("span",{className:"text-xs text-white uppercase font-bold flex items-center",children:[e.jsx(rs,{className:"mr-1"}),l.length]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{onClick:()=>y(`/projects/${j}`),className:"cursor-pointer",children:[e.jsx("h2",{className:"text-[#3A5A40] font-bold text-xl truncate cursor-pointer",children:N}),e.jsxs("p",{className:"mt-2 text-sm text-[#3A5A40] font-content font-bold truncate",children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",r]}),e.jsx("div",{className:"mt-3 flex items-end justify-start",children:e.jsx("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:e.jsx("span",{className:"font-bold font-bold mr-1",children:m})})}),e.jsxs("div",{className:"mt-2 flex items-end justify-start",children:[e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(fe,{className:`mr-1 mt-[2px] ${c?"text-green-600":"text-gray-400"}`}),"parking"]}),e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(fe,{className:`mr-1 mt-[2px] ${o?"text-green-600":"text-gray-400"}`}),"Espace Comercial"]}),e.jsxs("p",{className:"text-[#3A5A40] w-1/2 font-content font-semibold text-sm flex items-center",children:[e.jsx(fe,{className:`mr-1 mt-[2px] ${n?"text-green-600":"text-gray-400"}`}),"Bureau"]})]}),e.jsx("div",{className:"mt-3 flex items-end justify-between",children:e.jsx("div",{className:"inline-flex rounded-xl max-w-[150px] duration-500",children:e.jsxs("p",{className:"font-bold text-lg truncate",children:[d||0,"  ",e.jsx("span",{className:"font-content",children:" appartements"})]})})})]}),e.jsxs("div",{className:"mt-4 flex items-end justify-between",children:[e.jsx("button",{onClick:()=>y(`/update_project/${j}`),className:"bg-[#3A5A40] rounded-sm py-2 px-7 font-bold text-white hover:opacity-95 text-sm",children:"Modifier"}),e.jsx("button",{onClick:()=>s.handleProjectDelete(j),className:"bg-red-800 py-2 px-5 rounded-sm font-bold text-white hover:opacity-95 text-sm z-10",children:"Supprimer"})]})]})]})},ce=()=>e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx("p",{className:"loading mt-20 loading-infinity h-20 w-20  text-[#3A5A40]"})}),Hs={searchTermState:""},$e=Pe({name:"search",initialState:Hs,reducers:{setSearchTermState:(s,r)=>{s.searchTermState=r.payload}}}),{setSearchTermState:Ce}=$e.actions,Js=$e.reducer,Gs=()=>{const[s,r]=a.useState(!1),[m,h]=a.useState(!1),[o,l]=a.useState({imgUrl:[]}),[c,N]=a.useState({}),j=async t=>{if(t.preventDefault(),o.imgUrl.length>0){const f=o.imgUrl[0],O=ae(oe),se=new Date().getTime()+f.name,K=re(O,se),z=ne(K,f);z.on("state_changed",q=>{const G=q.bytesTransferred/q.totalBytes*100;console.log("Upload is "+G+"% done")},q=>{console.error("Upload error:",q),v.error("File upload failed")},()=>{le(z.snapshot.ref).then(async q=>{try{const G={...o,imgUrl:q};console.log("Data to be sent:",G);const ge=await fetch("https://immob-back.onrender.com/api/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!ge.ok){const Ze=await ge.json();throw new Error(Ze.message||"Failed to add partner")}const ye=await ge.json();ye.success?v.success("Partenaire ajouté avec succès"):v.error(`Failed to add partner: ${ye.message}`)}catch(G){v.error(`An error occurred: ${G.message}`),console.error("Error details:",G)}})})}else v.error("Please upload an image");r(!1)},n=t=>{const f=Array.from(t.target.files);l({...o,imgUrl:f})};a.useEffect(()=>{window.scrollTo(0,0)},[]);const[d,y]=a.useState(1),{currentUser:S}=M(t=>t.user),[C,_]=a.useState(void 0),[i,b]=a.useState(0),[P,I]=a.useState(!1),[R,u]=a.useState({}),[p,U]=a.useState(1),$=5,{searchTermState:L}=M(t=>t.search),[x,F]=a.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),w=de(),k=(t,f)=>{y(1),F({...x,[t]:f})},[E,Z]=a.useState({isProjectExist:!1,projects:[]}),[Y,B]=a.useState(!1),g=a.useRef(null),{loading:A}=M(t=>t.user),T=H(),he=t=>{if(t){const f=ae(oe),O=new Date().getTime()+t.name,se=re(f,O),K=ne(se,t);K.on("state_changed",z=>{const q=z.bytesTransferred/z.totalBytes*100;b(Math.round(q))},z=>{I(!0)},()=>{le(K.snapshot.ref).then(z=>{u({...R,avatar:z})})})}};a.useEffect(()=>{he(C)},[C]);const ee=t=>{u({...R,[t.target.name]:t.target.value})},pe=async t=>{t.preventDefault();try{w(Fe());const O=await(await fetch(`api/users/update/${S._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).json();O.success===!1?(w(ke(O.message)),v.error(O.message,{autoClose:5e3})):(w(Rs(O)),v.success("Profile updated successfully",{autoClose:2e3}))}catch(f){w(ke(f.message)),v.error(f.message,{autoClose:2e3})}},te=async()=>{try{const f=await(await fetch("api/auth/signout")).json();f.success===!1?(w(Ee(f.message)),v.error(f.message,{autoClose:2e3})):(w(Se()),w(clearSavedListing()))}catch(t){w(Ee(t.message)),v.error(t.message,{autoClose:2e3})}},J=async()=>{try{B(!0);const f=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/search?searchTerm=${L}&etat=${x.etat}&parking=${x.parking}&furnished=${x.furnished}&bureau=${x.bureau}&page=${d}`)).json();f.success===!1?(v.error(f.message,{autoClose:2e3}),B(!1),w(Se())):(Z({...E,isProjectExist:!0,projects:f}),B(!1))}catch(t){v.error(t.message,{autoClose:2e3}),B(!1)}};a.useEffect(()=>{J()},[x,L]);const qe=async()=>{try{const f=await(await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/partners/")).json();N(f)}catch(t){v.error(t.message,{autoClose:2e3})}};a.useEffect(()=>{qe()},[c]);const Ve=async t=>{try{const O=await(await fetch(`api/partners/${t}`,{method:"DELETE"})).json();O.success===!1?v.error(O.message,{autoClose:2e3}):alert("partenaire éffacée")}catch(f){v.error(f.message,{autoClose:2e3})}},He=async t=>{try{const O=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${t}`,{method:"DELETE"})).json();if(O.success===!1)v.error(O.message,{autoClose:2e3});else{const se=E.projects.filter(K=>K._id!==t);Z({...E,projects:se}),v.success(O,{autoClose:2e3})}}catch(f){v.error(f.message,{autoClose:2e3})}},Je=t=>{const f=(p-1)*$;return t.slice(f,f+$)},Ge=()=>{U(t=>t+1)},We=()=>{U(t=>t>1?t-1:1)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsxs("div",{className:"max-w-7xl sm:max-w-full mx-auto grid md:gap-6 temp lg:grid-cols-4  md:grid-cols-5 grid-cols-1 items-start",children:[e.jsxs("div",{className:"profile_info p-5 bg-white  w-full  md:col-span-2 lg:col-span-1  md:max-h-full md:min-h-screen h-full col-span-1 ",children:[e.jsxs("form",{className:"w-full",onSubmit:pe,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"image_container w-full flex items-center justify-center  relative max-w-[100px] mx-auto",children:[e.jsx("input",{onChange:t=>_(t.target.files[0]),hidden:!0,accept:"image/*",type:"file",name:"profile",id:"profile_image",ref:g}),e.jsx("img",{src:R.avatar||S.avatar,onClick:()=>g.current.click(),className:"h-20 w-20 mb-3 rounded-full border-[1px]  border-[#3A5A40]",alt:"profile image",loading:"lazy"}),e.jsx("i",{className:"h-4 w-4 rounded-full flex items-center justify-center bg-[#3A5A40] text-white absolute bottom-2 right-0",children:e.jsx(ns,{})})]}),P?e.jsx("p",{className:"text-xs text-red-700 font-medium text-center",children:"File upload failed"}):i>0&&i<100?e.jsxs("p",{className:"text-xs text-black font-medium text-center",children:["File uploading...",i,"%"]}):i===100&&e.jsx("p",{className:"text-xs text-green-600 font-medium text-center",children:"File uploaded!!!"})]}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Nom d'utilisateur"}),e.jsx("input",{defaultValue:S.username,name:"username",type:"text",placeholder:"Username",className:"form_input bg-slate-200 rounded-md !pl-3 mt-1 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:ee}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Email"}),e.jsx("input",{defaultValue:S.email,name:"email",type:"email",placeholder:"email",className:"  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40] mb-3",onChange:ee}),e.jsx("label",{className:"text-left font-heading text-sm pl-1 ",children:"Mot de Passe"}),e.jsx("input",{type:"password",name:"password",placeholder:"Mot de Passe",className:"mt-1  form_input bg-slate-200 rounded-md !pl-3 !border-[1px] focus:!border-[#3A5A40]",onChange:ee}),e.jsx("button",{disabled:A,type:"submit",className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:A?"Loading...":"Enregistrer"})]}),e.jsx("button",{onClick:te,className:"py-2 px-5 bg-red-800 text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",children:"Deconnexion"}),e.jsx("div",{className:"h-[1px] bg-black w-full mt-3"}),e.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>h(!0),children:"Tout partenaires"}),e.jsx("button",{className:"py-2 px-5 bg-[#3A5A40] text-white rounded-md w-full font-heading  mt-4 hover:opacity-90",onClick:()=>r(!0),children:"Ajouter partenaires"})]}),A&&e.jsx(ce,{}),e.jsx("div",{id:"adminAdd",className:"mt-5 md:mt-0 col-span-3 post_section profile_info p-2 flex flex-col   bg-transparent  w-full overflow-y-auto",children:e.jsx("div",{id:"Projects",className:"",children:Y?e.jsxs("div",{children:[e.jsx(ce,{}),e.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your projects"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"",children:e.jsx("form",{children:e.jsxs("div",{className:"grid grid-cols-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-lg font-heading ",children:" type:"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10  pt-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"all",onChange:t=>k(t.target.name,t.target.value),checked:x.etat==="all"}),"Tout"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"future",onChange:t=>k(t.target.name,t.target.value),checked:x.etat==="future"}),"Future"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"en cours",onChange:t=>k(t.target.name,t.target.value),checked:x.etat==="en cours"}),"En Cours"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-md font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"radio",name:"etat",value:"terminee",onChange:t=>k(t.target.name,t.target.value),checked:x.etat==="terminee"}),"Réalisé"]})})]})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("p",{className:"text-lg font-heading",children:"Amenities:"}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between pr-10 pt-2",children:[e.jsx("div",{className:"mr-5",children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"parking",onChange:t=>k(t.target.name,t.target.checked),checked:x.parking}),"Parking"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"furnished",onChange:t=>k(t.target.name,t.target.checked),checked:x.furnished}),"Espace Comercial"]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center justify-start text-lg font-heading",children:[e.jsx("input",{className:"h-4 w-4 mr-1 accent-[#3A5A40]",type:"checkbox",name:"bureau",onChange:t=>k(t.target.name,t.target.checked),checked:x.bureau}),"Bureau"]})})]})]}),e.jsx("div",{className:"btn_cotainer ",children:e.jsx("button",{className:"w-full mt-4 py-2 px-2 bg-[#3A5A40] text-white  hover:bg-[#3A5A40]/90 rounded-lg",type:"submit",children:e.jsxs("span",{className:"flex items-center justify-center font-heading text-lg",children:[e.jsx(be,{className:"mr-1"}),"Effacer Recherche"]})})})]})})}),e.jsxs("div",{className:"grid post_card grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-6 md:h-full overflow-scroll pb-10 px-4 scrollbar-hide md:pt-5",children:[e.jsx("div",{className:"cursor-pointer rounded-md  bg-white  shadow-lg hover:shadow-xl",children:e.jsxs("button",{onClick:()=>T("/create_project"),type:"submit",className:" px-5 bg-slate-300 font-heading shadow-lg text-black text-lg  rounded-sm hover:opacity-95 w-full h-full flex justify-center items-center flex-col py-10 sm:py-10",children:[e.jsx(ls,{className:"text-center md:mb-3 md:text-5xl text-black text-sm sm:text-xl"}),"Créer Projet"]})}),E.isProjectExist&&Je(E.projects.map(t=>e.jsx(Vs,{projectInfo:{project:t,handleProjectDelete:He}},t._id)))]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{className:`join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 
                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]
                                                    `,onClick:We,disabled:p===1,children:e.jsx(Te,{})}),e.jsxs("button",{className:"join-item btn bg-[#3A5A40] hover:bg-[#3A5A40] cursor-default text-white",children:["Page ",p," /"," ",E.projects.length%5==0?Math.floor(E.projects.length/5):Math.floor(E.projects.length/5)+1]}),e.jsx("button",{className:`join-item btn bg-[#3A5A40] text-white hover:bg-[#3A5A40]/90 
                                                    disabled:bg-[#d5d5d5] disabled:text-[#a0a0a0]
                                                    `,onClick:Ge,disabled:p===Math.ceil(E.projects.length/$),children:e.jsx(_e,{})})]})]})})}),e.jsx(V,{}),s&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4 max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Partner"}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Partner Image"}),e.jsx("input",{type:"file",multiple:!0,className:"w-full px-4 py-2 border rounded",onChange:n})]}),e.jsxs("div",{className:" items-center text-center",children:[e.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-[#3A5A40] rounded text-white mx-5",children:"Add Partner"}),e.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>r(!1),children:"Cancel"})]})]})]})}),e.jsx(V,{}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 py-16",children:e.jsxs("div",{className:"bg-white rounded-lg  space-y-4 w-full h-full mx-16  text-center",children:[e.jsx("h2",{className:"text-xl font-bold   rounded-b-xl pt-5 pb-2",children:"Les partenaires"}),e.jsx("div",{className:"h-[60vh] overflow-y-auto grid lg:grid-cols-4 sm:grid-cols-2 md:grid-cols-3 border-gray-800",children:c.map((t,f)=>e.jsx("div",{className:"",children:e.jsxs(is,{className:"max-w-sm shadow-white bg-transparent border-0 mx-auto rounded-lg",children:[e.jsx("img",{src:t.imgUrl[0],alt:`Partner logo for ${t._id}`,loading:"lazy",className:"max-h-[200px] min-h-[200px] w-auto object-contain rounded-lg hover:scale-105 duration-300"}),e.jsx("button",{className:"px-4 py-2 bg-red-800 rounded text-white mx-5",onClick:()=>Ve(t._id),children:"Effacer"})]})},f))}),e.jsx("button",{className:"px-4 py-2 bg-red-500 rounded text-white mx-5",onClick:()=>h(!1),children:"Close"})]})})]}),e.jsx(V,{})]}),e.jsx(xe,{})]})},Ws=()=>{const{currentUser:s}=M(r=>r.user);return s?e.jsx(os,{}):e.jsx(cs,{to:"/login"})},Zs=()=>{a.useEffect(()=>{window.scrollTo(0,0)},[]),a.useState("");const{currentUser:s}=M(w=>w.user),[r,m]=a.useState([]),[h,o]=a.useState({isError:!1,message:""}),[l,c]=a.useState(!1);a.useState(!1);const[N,j]=a.useState(!1),[n,d]=a.useState({imgUrl:[]}),[y,S]=a.useState(""),[C,_]=a.useState(""),i=H();a.useEffect(()=>{document.getElementById("admin").hidden=!0,s.role==="admin"&&(document.getElementById("admin").hidden=!1)},[]);const{register:b,handleSubmit:P,getValues:I,setError:R,formState:{errors:u}}=Ne({mode:"onChange"}),p=async()=>{if(r.length>0&&r.length+n.imgUrl.length<13){j(!0);const w=[];for(let k=0;k<r.length;k++)w.push(U(r[k])),Promise.all(w).then(E=>{d({...n,imgUrl:n.imgUrl.concat(E)}),j(!1)}).catch(E=>{o({...h,isError:!0,message:E}),j(!1)})}else o({...h,isError:!0,message:"Select file first (max:12)"}),j(!1)},U=w=>new Promise((k,E)=>{const Z=ae(oe),Y=new Date().getTime()+w.name,B=re(Z,Y),g=ne(B,w);g.on("state_changed",A=>{A.bytesTransferred/A.totalBytes*100},A=>{E("File uploaded Falied")},()=>{le(g.snapshot.ref).then(A=>{k(A)})})}),$=w=>{d({...n,imgUrl:n.imgUrl.filter(k=>k!=n.imgUrl[w])})};h.isError&&v.error(h.message,{autoClose:2e3});const L=async w=>{try{c(!0);const E=await(await fetch("api/projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w,description:y,specificity:C,imgUrl:n.imgUrl,userRef:s._id})})).json();E.success===!1?(v.error(E.message,{autoClose:2e3}),c(!1)):(i(`/projects/${E._id}`),c(!1))}catch(k){v.error(k.message,{autoClose:2e3}),c(!1)}},x={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},F=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return e.jsx("main",{children:e.jsxs("section",{id:"admin",children:[e.jsx("div",{className:"w-full h-24  rounded-lg"})," ",e.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[e.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Créer un Projet"}),e.jsx("div",{className:"mt-8 form_container",children:e.jsx("form",{onSubmit:P(L),children:e.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[e.jsxs("div",{className:"info_container",children:[e.jsxs("div",{className:"input_feilds",children:[e.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...b("title",{required:"This feild is required*"})}),u.title&&e.jsx("p",{className:"text-gray-800 text-xs",children:u.title.message}),e.jsx(ie,{id:"description",type:"text",placeholder:"Description",value:y,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:S,modules:x,formats:F}),e.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...b("address",{required:"This feild is required*"})}),u.address&&e.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:u.address.message})]}),e.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[e.jsxs("div",{className:"property_type",children:[e.jsxs("p",{className:"font-heading text-black",children:["Selectionner l'etat"," "]}),e.jsxs("div",{className:"form-control ",children:[e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...b("etat")}),e.jsx("span",{className:"label-text font-medium",children:"Future"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...b("etat")}),e.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...b("etat")}),e.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),e.jsxs("div",{className:"cd_info mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:" Informations Générales"}),e.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[e.jsx("span",{className:"label-text font-medium",children:"Appartement"}),e.jsxs("div",{children:[e.jsx("input",{defaultValue:0,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...b("area",{required:"required"})}),u.area&&e.jsx("p",{className:"text-gray-800 text-xs font-semibold",children:u.area.message})]})]})]}),e.jsxs("div",{className:"additional_feature mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Information Additionnelle"}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...b("parking")}),e.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...b("furnished")}),e.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"bureau",type:"checkbox",name:"bureau",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...b("bureau")}),e.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]}),e.jsxs("div",{className:"specificity mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Spécificité"}),e.jsx(ie,{id:"specificity",type:"text",value:C,onChange:_,className:"border-2 focus:border-[#3A5A40] rounded-md w-full mt-2",placeholder:"Description de la spécificité...",modules:x,formats:F})]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[e.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"La premiére image sera l'image de couverture (max:12)"]}),e.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[e.jsx("input",{onChange:w=>m(w.target.files),required:!0,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] ${N?"md:w-4/6":"md:w-4/5"} w-full`}),e.jsx("button",{disabled:N||r.length===0,onClick:p,type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${N?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-gray-500 disabled:text-gray-500`,children:N?"Uploading...":"Upload"})]}),e.jsxs("div",{children:[n.imgUrl.length>0&&n.imgUrl.map((w,k)=>e.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[e.jsx("img",{src:w,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),e.jsx("button",{onClick:()=>$(k),type:"button",className:"font-medium text-lg text-gray-800 flex items-center underline hover:opacity-75",children:"Delete"})]},k)),e.jsx("div",{className:"post_btn mt-7",children:e.jsx("button",{disabled:n.imgUrl.length<1||N||l,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:l?"Creating...":"Create Project"})})]})]})]})})})]}),e.jsx(V,{})]})})},Ys=()=>{const[s,r]=a.useState(""),[m,h]=a.useState("");a.useEffect(()=>{window.scrollTo(0,0)},[]);const{currentUser:o}=M(g=>g.user),[l,c]=a.useState([]),[N,j]=a.useState({isError:!1,message:""}),[n,d]=a.useState(!1),[y,S]=a.useState(!1),[C,_]=a.useState(!1),[i,b]=a.useState({imgUrl:[]}),[P,I]=a.useState(!1),R=H(),u=Le(),{register:p,handleSubmit:U,getValues:$,setValue:L,formState:{errors:x}}=Ne({mode:"onChange"});a.useEffect(()=>{document.getElementById("admin").hidden=!0,o.role==="admin"&&(document.getElementById("admin").hidden=!1),(async()=>{I(!0);const T=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u.id}`)).json();T.success===!1?(v.error(T.message,{autoClose:2e3}),I(!1)):(F(T),b({...i,imgUrl:T.imgUrl}),T.offer&&S(!0),I(!1))})()},[]);const F=g=>{L("title",g.title),r(g.description),h(g.specificity),L("address",g.address),L("area",g.area&&g.area),L("furnished",g.furnished),L("parking",g.parking),L("etat",g.etat),L("offer",g.offer),L("bureau",g.bureau)},w=async()=>{if(l.length>0&&l.length+i.imgUrl.length<13){_(!0);const g=[];for(let A=0;A<l.length;A++)g.push(k(l[A])),Promise.all(g).then(T=>{b({...i,imgUrl:i.imgUrl.concat(T)}),_(!1)}).catch(T=>{j({...N,isError:!0,message:T}),_(!1)})}else j({...N,isError:!0,message:"Select file first (max:6)"}),_(!1)},k=g=>new Promise((A,T)=>{const he=ae(oe),ee=new Date().getTime()+g.name,pe=re(he,ee),te=ne(pe,g);te.on("state_changed",J=>{J.bytesTransferred/J.totalBytes*100},J=>{T("File uploaded Falied")},()=>{le(te.snapshot.ref).then(J=>{A(J)})})}),E=g=>{b({...i,imgUrl:i.imgUrl.filter(A=>A!=i.imgUrl[g])})};N.isError&&v.error(N.message,{autoClose:2e3});const Z=async g=>{try{d(!0);const T=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,description:s,specificity:m,imgUrl:i.imgUrl,userRef:o._id})})).json();T.success===!1?(v.error(T.message,{autoClose:2e3}),d(!1)):(R(`/projects/${T._id}`),d(!1))}catch(A){v.error(A.message,{autoClose:2e3}),d(!1)}},Y={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"]]},B=["font","size","bold","italic","underline","strike","list","bullet","align","link","image"];return e.jsx("main",{children:P?e.jsxs("div",{children:[e.jsx("div",{className:"w-full h-32  rounded-lg"}),e.jsx(ce,{}),e.jsx("p",{className:"font-heading text-[#3A5A40] text-lg sm:text-2xl text-center",children:"Loading..."})]}):e.jsxs("section",{id:"admin",children:[e.jsx("div",{className:"w-full h-32 "}),e.jsxs("div",{className:"container py-7 md:py-16 max-w-5xl",children:[e.jsx("h1",{className:"text-center text-2xl font-heading font-bold text-black",children:"Mise à jour Projet"}),e.jsx("div",{className:"mt-8 form_container",children:e.jsx("form",{onSubmit:U(Z),children:e.jsxs("div",{className:"feilds_container grid gap-5 md:gap-10  grid-col-1 md:grid-cols-2 items-start  ",children:[e.jsxs("div",{className:"info_container",children:[e.jsxs("div",{className:"input_feilds",children:[e.jsx("input",{id:"title",type:"text",placeholder:"Property name",name:"title",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm ",min:10,max:50,...p("title",{required:"This feild is required*"})}),x.title&&e.jsx("p",{className:"text-red-700 text-xs",children:x.title.message}),e.jsx(ie,{id:"description",type:"text",placeholder:"Description",value:s,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",onChange:r,modules:Y,formats:B}),x.description&&e.jsx("p",{className:"text-red-700 text-xs",children:x.description.message}),e.jsx("input",{id:"address",type:"text",placeholder:"Address",name:"address",className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",...p("address",{required:"This feild is required*"})}),x.address&&e.jsx("p",{className:"text-red-700 text-xs font-semibold",children:x.address.message})]}),e.jsxs("div",{className:"additional_info mt-6 max-w-xs",children:[e.jsxs("div",{className:"property_type",children:[e.jsx("p",{className:"font-heading text-black",children:"Selectionner l'etat "}),e.jsxs("div",{className:"form-control ",children:[e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"future",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...p("etat")}),e.jsx("span",{className:"label-text font-medium",children:"Future"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"en cours",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...p("etat")}),e.jsx("span",{className:"label-text font-medium",children:"en cours"})]}),e.jsxs("label",{className:`label cursor-pointer flex items-center justify-start gap-2
                                            `,children:[e.jsx("input",{type:"radio",name:"rent",id:"rent",value:"terminee",required:!0,className:"radio w-5 h-5 checked:bg-[#3A5A40]",...p("etat")}),e.jsx("span",{className:"label-text font-medium",children:"termine"})]})]})]}),e.jsxs("div",{className:"property_info mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Genarel Information"}),e.jsxs("div",{className:"max-w-[200px] flex items-center justify-between gap-2 mt-2",children:[e.jsx("span",{className:"label-text font-medium",children:"Appartements "}),e.jsxs("div",{children:[e.jsx("input",{defaultValue:550,className:"border-2 focus:border-[#3A5A40] rounded-md max-w-[84px] min-w-[84px] py-1 px-2 bg-transparent",type:"number",name:"area",id:"area",...p("area",{required:"required"})}),x.area&&e.jsx("p",{className:"text-red-700 text-xs font-semibold",children:x.area.message})]})]})]}),e.jsxs("div",{className:"additional_feature mt-3",children:[e.jsx("p",{className:"font-heading text-black",children:"Additional Information"}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"parking",type:"checkbox",name:"parking",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...p("parking")}),e.jsx("span",{className:"label-text font-medium",children:"Parking"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"furnished",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...p("furnished")}),e.jsx("span",{className:"label-text font-medium",children:"Espace Comercial"})]}),e.jsxs("label",{className:"label cursor-pointer flex items-center justify-start gap-2",children:[e.jsx("input",{id:"bureau",type:"checkbox",className:"checkbox w-5 h-5 border-gray-400 rounded-full checked:bg-[#3A5A40]",...p("bureau")}),e.jsx("span",{className:"label-text font-medium",children:"Bureau"})]})]})]})]})]}),e.jsx(ie,{id:"specificity",value:m,onChange:h,className:"form_input border-[1px]  focus:border-[#3A5A40] rounded-md placeholder:text-sm mt-3",placeholder:"Specificité",modules:Y,formats:B}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-content text-[16px] mb-3 font-normal text-black",children:[e.jsx("span",{className:"font-semibold mr-1",children:"Note:"}),"First image will be cover image (max:9)"]}),e.jsxs("div",{className:"image_upload_container md:p-5 md:border-2 bg-transparent border-dashed rounded-sm md:flex items-center justify-center gap-2",children:[e.jsx("input",{onChange:g=>c(g.target.files),required:i.imgUrl<1,multiple:!0,accept:"video/mp4, image/*",type:"file",className:`file-input file:bg-[#3A5A40] bg-red-00 ${C?"md:w-4/6":"md:w-4/5"} w-full`}),e.jsx("button",{disabled:C,onClick:w,type:"button",className:`w-full text-green-600 text-sm py-2 border-2 border-green-600 rounded-md mt-2 uppercase font-heading  ${C?"md:w-2/6":"md:w-1/5"} md:h-[3rem] md:mt-0 duration-500 hover:shadow-lg disabled:border-yellow-500 disabled:text-yellow-500`,children:C?"Uploading...":"Upload"})]}),e.jsxs("div",{children:[i.imgUrl&&i.imgUrl.length>0&&i.imgUrl.map((g,A)=>e.jsxs("div",{className:"uploaded_images p-2 pr-5 border-2 mt-4  rounded-md flex items-center justify-between",children:[e.jsx("img",{src:g,alt:"property Image",className:"w-24 h-20 object-cover rounded-md"}),e.jsx("button",{onClick:()=>E(A),type:"button",className:"font-medium text-lg text-red-700 flex items-center underline hover:opacity-75",children:"Delete"})]},A)),e.jsx("div",{className:"post_btn mt-7",children:e.jsx("button",{disabled:i.imgUrl.length<1||C||n,type:"submit",className:"w-full bg-[#3A5A40] text-xl tracking-wider font-heading rounded-md hover:opacity-90 disabled:opacity-70 duration-300 text-white p-3",children:n?"Updating...":"Update Project"})})]})]})]})})})]}),e.jsx(V,{})]})})},Be=({project:s})=>{const r=H(),{title:m,imgUrl:h,description:o,_id:l}=s;return e.jsx("div",{className:"listing_card bg-transparant  rounded-lg w-full  group sm:mr-auto sm:ml-0 mx-auto shadow-lg shadow-gray-400",onClick:()=>r(`/projects/${l}`),children:e.jsxs("div",{className:"card-container",children:[e.jsx("div",{className:"image_container relative overflow-hidden h-70 cursor-pointer items-center p-2",children:e.jsx("img",{className:"max-h-[300px] min-h-[300px] w-full object-cover rounded-lg hover:scale-105 duration-300 ",src:h[0],alt:"property image",loading:"lazy"})}),e.jsx("div",{className:"card_body  duration-500 mt-1 h-28  ",children:e.jsxs("div",{className:"content-container p-3 pb-0 cursor-pointer",children:[e.jsx("h2",{className:"text-lg text-black font-bold truncate uppercase duration-300 group-hover:text-black ",children:m}),e.jsx("div",{className:"text-sm text-gray-600 overflow-hidden overflow-ellipsis",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineHeight:"1.2em",maxHeight:"3.6em",whiteSpace:"normal"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:o}})})]})})]})})},Ks=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid sm:hidden",children:e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})}),e.jsxs("div",{className:"hidden lg:hidden sm:grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]}),e.jsxs("div",{className:"hidden xl:hidden  lg:grid grid-cols-3 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]}),e.jsxs("div",{className:"hidden xl:grid grid-cols-4 gap-5",children:[e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]}),e.jsxs("div",{className:"mx-auto bg-brand-blue/25  shadow-lg w-full max-w-xs rounded-sm",children:[e.jsx("div",{className:"h-48 p-3 overflow-hidden bg-gray-200 animate-pulse"}),e.jsx("div",{className:"p-3 h-",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 col-span-2 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded  animate-pulse"}),e.jsx("div",{className:"..."}),e.jsx("div",{className:"col-span-2 ..."})]})})]})]})]}),Xs=()=>{const{t:s}=me(),[r,m]=a.useState(!0),[h,o]=a.useState([]),l=H();function c(n){const{className:d,style:y,onClick:S}=n;return e.jsx("div",{className:d,style:{...y,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",right:"-15px",zIndex:1},onClick:S})}function N(n){const{className:d,style:y,onClick:S}=n;return e.jsx("div",{className:d,style:{...y,display:"block",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"50%",width:"22px",height:"18px",position:"absolute",top:"50%",transform:"translateY(-50%)",left:"-15px",zIndex:1},onClick:S})}a.useEffect(()=>{(async()=>{try{m(!0);const d=await(await fetch("https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/")).json();d.success===!1||o(d),m(!1)}catch(n){console.log(n),m(!1)}})()},[]);const j={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,nextArrow:e.jsx(c,{}),prevArrow:e.jsx(N,{}),autoplay:!0,autoplaySpeed:2e3,appendDots:n=>e.jsxs("ul",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"},children:[n.slice(0,5),n.length>5&&e.jsx("li",{className:"justify:center"})]}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return e.jsx("section",{children:e.jsxs("div",{className:"mx-auto max-w-screen-xl space-y-8 px-4 py-16 sm:px-6 lg:space-y-16 lg:px-8",children:[e.jsx("div",{className:"content",children:e.jsxs("h2",{className:"text-xl sm:text-3xl font-bold text-[#515557] sm:text-left",children:[s("allproject.projectsTitle")," "]})}),e.jsx("div",{className:"post_container !mt-4",children:r?e.jsx(Ks,{}):e.jsx("div",{className:"slider_container",children:e.jsx(Oe,{...j,className:"z-10 relative gap-3",children:h&&h.map(n=>e.jsx(Be,{project:n},n._id))})})}),e.jsx("div",{className:"btn_container flex items-center justify-center",children:e.jsxs("button",{className:"group relative inline-flex items-center overflow-hidden rounded bg-[#3A5A40] px-8 py-3 text-black",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 50%, rgba(123,231,26,1) 100%)"},onClick:()=>l("/searchProject?"),children:[e.jsx("span",{className:"absolute -end-full transition-all group-hover:end-4",children:e.jsx("svg",{className:"h-5 w-5 rtl:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),e.jsxs("span",{className:"text-sm font-medium transition-all group-hover:me-4",children:[s("allproject.seeMore")," "]})]})})]})})},Qs=()=>{const s=Ue(),[r,m]=a.useState({}),[h,o]=a.useState(!1),[l,c]=a.useState(!1),{address:N,description:j,specificity:n,title:d}=r,y=H(),S=Le(),{currentUser:C}=M(u=>u.user);de(),a.useEffect(()=>{window.scrollTo(0,0)},[s]),a.useEffect(()=>{window.scrollTo(0,0),(async()=>{c(!0);const p=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${S.id}`)).json();p.success===!1?(v.error(p.message,{autoClose:2e3}),c(!1)):(m(p),c(!1))})()},[S.id]);function _({onClick:u}){return e.jsx("div",{className:"absolute top-1/2 left-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-e-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:u,children:e.jsx(hs,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}function i({onClick:u}){return e.jsx("div",{className:"absolute top-1/2 right-0 z-10  -translate-y-1/2 p-2 sm:p-4 rounded-s-md bg-white flex items-center justify-center cursor-pointer shadow-lg hover:bg-white/90 duration-300",onClick:u,children:e.jsx(ps,{className:"text-[#3A5A40] text-lg sm:text-2xl"})})}const b={infinite:!0,lazyLoad:!1,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:e.jsx(i,{to:"next"}),prevArrow:e.jsx(_,{to:"prev"}),appendDots:u=>e.jsx("div",{style:{bottom:25},children:e.jsxs("ul",{style:{margin:"0px",color:"#fff"},children:[" ",u," "]})})},P=async u=>{try{const U=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/${u}`,{method:"DELETE"})).json();U.success===!1?v.error(U.message,{autoClose:2e3}):y("/profile")}catch(p){v.error(p.message,{autoClose:2e3})}};function I(u,p){return typeof u=="string"&&u.length>p?u.slice(0,-p):u}function R(u){return console.log(u),u.endsWith(".mp4")}return e.jsxs(e.Fragment,{children:[l?e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx("p",{className:"text-[#3A5A40] text-center font-heading text-xl",children:"Loading your project.."})]}):e.jsxs("div",{className:"listing_section pb-16",children:[e.jsx("div",{className:"w-full h-32 "}),e.jsx("div",{className:"container mb-4",children:e.jsxs("button",{onClick:()=>y(-1),className:"flex items-center hover:bg-[#3A5A40]/90 text-black px-6 py-2 rounded-md font-heading",style:{background:"linear-gradient(90deg, rgba(123,231,26,1) 0%, rgba(90,225,80,0.5) 40%, rgba(123,331,36,1) 100%)"},children:[e.jsx(ds,{className:"mr-2"}),"Retour"]})}),e.jsx(Oe,{...b,className:"z-10 relative",children:r.imgUrl&&r.imgUrl.map((u,p)=>e.jsx("div",{className:"w-full mx-auto z-10",children:R(I(u,53))?e.jsx("video",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:u,alt:"video",autoPlay:"true",controls:!0,muted:"false",loop:"true"}):e.jsx("img",{className:"h-[200px] sm:h-[450px]  mx-auto rounded-lg rounded-b-lg",src:u,alt:"image",loading:"lazy"})},p))}),e.jsx("div",{className:"container ",children:e.jsx("div",{className:"property_details_container pt-4 sm:pt-12 ",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-7  ",children:[e.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:e.jsxs("div",{className:"property_info",children:[e.jsx("h1",{className:"font-heading font-bold mt-5 md:mt-8 text-2xl sm:text-3xl text-black capitalize",children:d}),e.jsxs("p",{className:"font-content mt-3 font-medium text-lg flex items-center justify-left",children:[e.jsx(ms,{className:"text-[#3A5A40]"}),e.jsx("span",{className:"ml-1",children:N})]}),e.jsxs("div",{className:"description",children:[e.jsx("p",{className:"font-heading mt-4 font-medium text-lg sm:text-xl",children:"Description"}),e.jsx("div",{className:"description-content break-words",dangerouslySetInnerHTML:{__html:j}})]})]})}),e.jsxs("div",{className:`property_details mt-8 bg-white rounded-md shadow-sm shadow-[#3A5A40] md:px-12 py-5 px-6 ${C&&C.role==="admin"?"block":"hidden"}`,children:[e.jsxs("div",{onClick:()=>o(!h),className:"feature_heading flex items-center justify-between cursor-pointer",children:[e.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),h?e.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:e.jsx(us,{className:"text-xl text-[#3A5A40]"})}):e.jsx("i",{className:"p-[5px] rounded-full bg-[#3A5A40]/20 flex items-center justify-center",children:e.jsx(xs,{className:"text-xl text-[#3A5A40]"})})]}),e.jsx("div",{className:`feature_info  transition-max-h ${h?"max-h-screen":"max-h-0"} overflow-hidden duration-500 ease-in-out`,children:e.jsx("div",{className:"specificity",children:e.jsx("div",{className:"specificity-content break-words",dangerouslySetInnerHTML:{__html:n}})})})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsx("div",{className:"bg-white md:p-12 p-6 rounded-md shadow-sm shadow-[#3A5A40]",children:C&&C.role==="admin"?e.jsxs("div",{className:"project_owner",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 sm:gap-5 gap-2 ",children:[e.jsx("div",{className:"btn_container",children:e.jsx("button",{onClick:()=>y(`/update_project/${S.id}`),className:"bg-[#3A5A40] hover:bg-[#3A5A40]/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Modifier Project"})}),e.jsx("div",{className:"contant_btn_container",children:e.jsx("button",{onClick:()=>P(S.id),className:"bg-red-600 hover:bg-red-600/90 text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Supprimer Project"})})]}),e.jsx("div",{className:"contant_btn_container mt-3",children:e.jsx("button",{onClick:()=>y("/profile"),className:"bg-amber-700 hover:bg-amber-700/90 uppercase text-white w-full px-2 py-3 text-lg font-heading rounded-sm",children:"Tous les Projects"})})]}):e.jsxs("div",{className:"feature_info transition-max-h max-h-screen overflow-hidden duration-500 ease-in-out",children:[e.jsx("p",{className:"font-heading text-lg sm:text-xl font-extrabold",children:"SPECIFICITÉ"}),e.jsx("div",{className:"info_contaier mt-5 max-w-md",children:e.jsx("div",{className:"mt-4",children:n?e.jsx("div",{className:"font-heading text-md lg:text-lg specificity-content break-words",dangerouslySetInnerHTML:{__html:n}}):e.jsx("p",{className:"font-heading text-md lg:text-lg text-gray-500",children:"Aucune spécificité disponible"})})})]})})})]})})}),e.jsx(V,{})]}),e.jsx(Xs,{}),e.jsx(xe,{})]})},et=()=>{const{t:s}=me();a.useEffect(()=>{window.scrollTo(0,0)},[]);const[r,m]=a.useState([]),{searchTermState:h}=M(i=>i.search),[o,l]=a.useState(!1),[c,N]=a.useState(1),j=a.useRef(),[n,d]=a.useState({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1}),y=de(),S=i=>{i.preventDefault(),y(Ce("")),d({searchTerm:"",parking:!1,etat:"all",furnished:!1,bureau:!1})},C=async()=>{try{l(!0);const b=await(await fetch(`https://us-central1-cogeb-immobiliere.cloudfunctions.net/api/api/projects/search?searchTerm=${h}&etat=${n.etat}&parking=${n.parking}&furnished=${n.furnished}&bureau=${n.bureau}&page=${c}`)).json();b.success===!1||m(b),l(!1)}catch(i){console.log(i),l(!1)}};a.useEffect(()=>{C()},[n,h,c]),a.useEffect(()=>{const b=new URLSearchParams(location.search).get("filter");b&&d(P=>({...P,etat:b}))},[location.search]);const _=(i,b)=>{N(1),d({...n,[i]:b})};return a.useEffect(()=>{j.current.scrollIntoView({behavior:"smooth"})},[r]),e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsxs("div",{ref:j,children:[e.jsx("div",{className:"w-full h-32 rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-5 lg:max-h-full lg:min-h-screen",children:[e.jsx("div",{className:"option_container md:col-span-3 mt-1 bg-gray-50 lg:max-h-full lg:min-h-screen shadow-md rounded-lg",children:e.jsx("div",{className:"items_container p-6 py-8",children:e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"form-control w-full max-w-full relative mb-6",children:[e.jsx("input",{type:"text",placeholder:s("search.placeholder"),className:"w-full px-4 py-3 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500",onChange:i=>y(Ce(i.target.value)),value:h}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-3 mr-4 text-green-500 hover:text-green-700",children:e.jsx(gs,{size:20})})]}),e.jsxs("div",{className:"fields_container mb-4",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:s("search.type")}),e.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["all","future","en cours","terminee"].map(i=>{const b={all:s("search.all"),future:s("search.future"),"en cours":s("search.en_cours"),terminee:s("search.terminee")};return e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"etat",value:i,className:"form-radio h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:P=>_(P.target.name,P.target.value),checked:n.etat===i}),e.jsx("span",{className:"text-sm",children:b[i]})]},i)})})]}),e.jsxs("div",{className:"amenities_container mb-4",children:[e.jsx("p",{className:"text-lg font-bold mb-2",children:s("search.amenities")}),e.jsx("div",{className:"control grid grid-cols-2 gap-2",children:["parking","bureau"].map(i=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:i,className:"form-checkbox h-4 w-4 text-green-500 transition duration-150 ease-in-out",onChange:b=>_(b.target.name,b.target.checked),checked:n[i]}),e.jsx("span",{className:"text-sm",children:s(`search.${i}`)})]},i))})]}),e.jsx("div",{className:"btn_container w-full",children:e.jsx("button",{className:"w-full py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition duration-150 ease-in-out",type:"submit",children:e.jsxs("span",{className:"flex items-center justify-center font-bold text-lg",children:[e.jsx(be,{className:"mr-2"}),s("search.clear_search")]})})})]})})}),e.jsx("div",{className:"listing_container md:col-span-9 pb-10 pt-2",children:o?e.jsxs("div",{className:"loading_container mt-40 flex items-center justify-center flex-col",children:[e.jsx(be,{className:"text-green-500 text-xl"}),e.jsxs("p",{className:"font-heading text-lg text-center text-green-500",children:[s("search.searching"),"..."]})]}):e.jsx("div",{children:r.length!==0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 px-5 gap-y-8",children:r.map(i=>e.jsx(Be,{project:i},i._id))}),e.jsx("div",{className:"pagination_part mt-8 md:mt-14 w-full flex items-center justify-center",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{onClick:()=>N(c-1),disabled:c<=1||o,className:`join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out 
                                                    disabled:bg-gray-300 disabled:text-gray-500`,children:e.jsx(Te,{})}),e.jsxs("button",{className:"join-item btn bg-green-500 text-white cursor-default",children:["Page ",c]}),e.jsx("button",{onClick:()=>N(c+1),disabled:r.length-(c-1)*12<12||o,className:`join-item btn bg-green-500 text-white hover:bg-green-600 transition duration-150 ease-in-out
                                                    disabled:bg-gray-300 disabled:text-gray-500`,children:e.jsx(_e,{})})]})})]}):e.jsxs("div",{className:"mt-40 flex items-center justify-center flex-col",children:[e.jsx(fs,{className:"text-green-500 text-3xl"}),e.jsx("p",{className:"font-heading text-lg text-center text-green-500",children:s("search.no_results")})]})})})]})]})}),e.jsx(xe,{})]})};function st(){const{t:s,i18n:r}=me(),[m,h]=a.useState(!1),{currentUser:o}=M(x=>x.user),[l,c]=a.useState(0),[N,j]=a.useState(!0),[n,d]=a.useState(!1),[y,S]=a.useState(!1),[C,_]=a.useState("bg-transparent"),i=a.useRef(null),b=()=>h(!m),P=()=>{h(!1),d(!1)},I=()=>S(!y),R=x=>{r.changeLanguage(x),S(!1)},u=Ue();a.useEffect(()=>{const x=()=>{const F=window.scrollY;c(F),F>0?_("bg-white-100/100 backdrop-blur-md"):_("bg-transparent"),j(F<l)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[l]);const p=({isActive:x})=>`
    text-black font-bold text-md sm:text-lg md:text-sm lg:text-xl md:mx-1 lg:mx-8 my-3
    transform translate-y-2 ${x?"text-green-600":"hover:text-[#006400]"} 
      hover:rounded-lg hover:p-0
  `,U=({isActive:x})=>`
    block px-4 py-2 ${x?"text-green-600":"hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"}
  `,$="block px-4 py-2 text-black hover:bg-gray-100 cursor-pointer flex items-center",L=u.pathname.includes("/searchProject");return e.jsx(je,{fluid:!0,rounded:!0,className:`fixed top-0 left-0 right-0 rounded-lg justify-between w-full z-50 transition-transform duration-300 ${C} ${N?"translate-y-0":"-translate-y-full"}`,children:e.jsxs("div",{className:"flex flex-wrap rounded-lg md:flex-nowrap pb-6 w-full items-center justify-between",children:[e.jsx(je.Brand,{href:"/",children:e.jsx("img",{src:De,className:`relative mr-3 h-16 sm:h-32 md:h-28 lg:h-20 ml-10 transition-transform duration-300 ${l>0?"scale-90":"scale-100"}`,alt:"logo",loading:"eager"})}),e.jsxs("div",{className:"flex sm:mr-1 items-center md:order-2",children:[o&&e.jsx(W,{className:p,children:e.jsx(Q,{to:"/profile",className:"hover:text-black",children:s("navbar.admin")})}),e.jsxs("div",{className:"relative ml-4",children:[e.jsx(js,{className:"text-green-600 text-lg cursor-pointer md:ml-0 md:mr-16",onClick:I}),y&&e.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:$,onClick:()=>R("fr"),children:[e.jsx("img",{src:Bs,alt:"FR",className:"w-5 h-5 mr-2"})," FR"]}),e.jsxs("span",{className:$,onClick:()=>R("en"),children:[e.jsx("img",{src:$s,alt:"ENG",className:"w-5 h-5 mr-2"})," ENG"]})]})})]}),e.jsx("button",{className:"block md:hidden m-4",onClick:b,children:e.jsx("img",{src:m?Ds:Ms,alt:"menu",className:"h-16 w-6",loading:"lazy"})})]}),e.jsxs(je.Collapse,{className:`w-full flex-col md:flex-row md:w-auto md:items-center ml-32 ${m?"block bg-white/90 p-6 rounded-3xl text-black pt-4":"hidden md:flex"}`,children:[e.jsx(W,{className:p,to:"/",end:!0,onClick:P,children:s("navbar.home")}),e.jsx(W,{className:p,to:"/apropos",onClick:P,children:s("navbar.about")}),e.jsxs("div",{className:"relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),ref:i,children:[e.jsxs("span",{className:`${p({isActive:L})} flex items-center cursor-pointer`,onClick:()=>d(!n),children:[s("navbar.projects"),e.jsx("svg",{className:"w-2.5 h-2.5 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),n&&e.jsx("div",{className:"absolute z-50 bg-white divide-y divide-gray-100 rounded-lg shadow w-72 dark:bg-gray-700",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200",children:[e.jsx("li",{children:e.jsx(W,{to:"/searchProject?filter=terminee",className:U,onClick:P,children:s("navbar.completedProjects")})}),e.jsx("li",{children:e.jsx(W,{to:"/searchProject?filter=en cours",className:U,onClick:P,children:s("navbar.ongoingProjects")})}),e.jsx("li",{children:e.jsx(W,{to:"/searchProject?filter=future",className:U,onClick:P,children:s("navbar.futureProjects")})})]})})]}),e.jsx(W,{className:p,to:"/contact",onClick:P,children:s("navbar.contact")})]})]})})}class tt extends ue.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,m){console.error("Error:",r,"Error Info:",m)}render(){return this.state.hasError?this.props.fallback||e.jsx("h1",{children:"Oops! Something went wrong."}):this.props.children}}const at={home:"HOME",about:"ABOUT",projects:"OUR PROJECTS",contact:"CONTACT",admin:"ADMIN",completedProjects:"Completed Projects",ongoingProjects:"Ongoing Projects",futureProjects:"Future Projects",language:"Language"},rt={aboutUs:"ABOUT US",description1:"The company",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", founded in 1999 and led by Mr.",mohamedLazreg:"Mohamed LAZREG",description3:", is approved by the Ministry of Equipment, Habitat, and Land Development. Its main goal is to develop high-quality real estate projects by carefully selecting sites, designing spaces that meet customer needs, and ensuring an improved living environment. It has a competent team, including architects, engineering offices, and control bureaus, who pay special attention to the architecture of its buildings, which have become references in the field."},nt={slogan:`Invest smartly
 with Cogeb Real Estate`},lt={realizedProjects:"OUR COMPLETED PROJECTS",inProgressTitle:"OUR ONGOING PROJECTS",nos_futurs_projets:"OUR FUTURE PROJECTS",viewMore:"See More"},it={objective:"OBJECTIVE OF THE COMPANY",description1:"The company",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", founded in 1999 and led by Mr.",mohamedLazreg:"Mohamed LAZREG",description3:", is approved by the Ministry of Equipment, Habitat, and Land Development. Its main goal is to develop high-quality real estate projects by carefully selecting sites, designing spaces that meet customer needs, and ensuring an improved living environment. It has a competent team, including architects, engineering offices, and control bureaus, who pay special attention to the architecture of its buildings, which have become references in the field."},ot={bestLocations:"Best locations for an ideal life.",modernArchitecture:"Modern architecture for true well-being.",imageAlt:"Image {{index}}"},ct={lastProject:"OUR LATEST PROJECT",discoverProjects:"YOU CAN DISCOVER WITH US THE LATEST PROJECTS REALIZED",discover:"DISCOVER"},dt={housing:"housing",commercialSpaces:"commercial spaces",parkingSpaces:"parking spaces"},mt={title:"CONTACT",email:"E-mail",phone:"PHONE",website:"Website",address:"Address"},ut={vision:"Our vision is to provide reliable tools for limitless creations.",links:"Links",home:"HOME",about:"ABOUT",projects:"OUR PROJECTS",contact:"CONTACT",contactTitle:"Contact",address:"Avenue de l'environnement, Sousse, Tunisia, 4000",followUs:"Follow Us",stayConnected:"Stay connected with us for updates and exclusive offers.",copyright:"© Copyright",rightsReserved:"all rights reserved"},xt={aboutUs:"ABOUT US",description1:"The company",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", founded in 1999 and led by Mr.",mohamedLazreg:"Mohamed LAZREG",description3:", is approved by the Ministry of Equipment, Habitat, and Land Development. Its main goal is to develop high-quality real estate projects by carefully selecting sites, designing spaces that meet customer needs, and ensuring an improved living environment. It has a competent team, including architects, engineering offices, and control bureaus, who pay special attention to the architecture of its buildings, which have become references in the field."},ht={projectsTitle:"OUR PROJECTS",seeMore:"See more"},pt={placeholder:"EMAIL",submit:"SEND"},gt={visitOffice:"Visit the Office",address:"Route de l'environnement 4000, Sousse, Tunisia",email:"E-MAIL",emailAddress:"contact@cogeb-immobiliere.com",chatWithUs:"Chat with Us",website:"www.Cogeb-immobiliere.com"},ft={nameLabel:"FULL NAME",emailLabel:"EMAIL",phoneLabel:"PHONE",projectLabel:"PROJECT",messagePlaceholder:"Message",submitButton:"Send Message"},jt={placeholder:"Search...",clear_search:"Clear Search",type:"Type:",all:"All",future:"Future",en_cours:"In Progress",terminee:"Completed",amenities:"Amenities:",parking:"Parking",bureau:"Office",no_results:"Sorry, no listings found",searching:"Searching..."},bt={navbar:at,card1:rt,homeHeader:nt,projects:lt,card2:it,album:ot,card3:ct,stateCard:dt,contact:mt,footer:ut,card1about:xt,allproject:ht,newsletter:pt,contactHeader:gt,form:ft,search:jt},Nt={home:"ACCUEIL",about:"À PROPOS",projects:"NOS PROJETS",contact:"CONTACT",admin:"ADMIN",completedProjects:"Projets Réalisés",ongoingProjects:"Projet En Cours",futureProjects:"Futurs Projets",language:"Langue"},vt={aboutUs:"A PROPOS DE NOUS",description1:"La société",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", fondée en 1999 et dirigée par Monsieur",mohamedLazreg:"Mohamed LAZREG",description3:", est agréée par le ministère de l’équipement de l’habitat et de l’aménagement du territoire. Son objectif principal est de développer des projets immobiliers de haute qualité en sélectionnant soigneusement les sites, en concevant des espaces répondant aux besoins des clients, et en garantissant un cadre de vie amélioré. Elle dispose d'une équipe compétente, notamment des architectes, bureaux d'études et de contrôle, qui accordent une attention particulière à l'architecture de ses bâtiments, devenus des références dans le domaine."},yt={slogan:`Investissez intelligemment
 avec Cogeb Immobilière`},wt={realizedProjects:"NOS PROJETS RÉALISÉS",inProgressTitle:"NOS PROJETS EN COURS",nos_futurs_projets:"NOS FUTURS PROJETS",viewMore:"Voir plus"},At={objective:"OBJECTIF DE LA SOCIETE",description1:"La société",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", fondée en 1999 et dirigée par Monsieur",mohamedLazreg:"Mohamed LAZREG",description3:", est agréée par le ministère de l’équipement de l’habitat et de l’aménagement du territoire. Son objectif principal est de développer des projets immobiliers de haute qualité en sélectionnant soigneusement les sites, en concevant des espaces répondant aux besoins des clients, et en garantissant un cadre de vie amélioré. Elle dispose d'une équipe compétente, notamment des architectes, bureaux d'études et de contrôle, qui accordent une attention particulière à l'architecture de ses bâtiments, devenus des références dans le domaine."},kt={bestLocations:"Meilleurs emplacements pour une vie idéale.",modernArchitecture:"Architecture moderne pour un vrai bien-être.",imageAlt:"Image {{index}}"},St={lastProject:"NOTRE DERNIER PROJET",discoverProjects:"VOUS POUVEZ DECOUVRIR AVEC NOUS LES DERNIERS PROJETS REALISES",discover:"DECOUVRIR"},Et={housing:"logements",commercialSpaces:"espaces commerciaux",parkingSpaces:"places parking"},Ct={title:"CONTACT",email:"E-mail",phone:"TELEPHONE",website:"Site Web",address:"Adresse"},Pt={vision:"Notre vision est de fournir des outils fiables pour des créations sans limites.",links:"Liens",home:"ACCUEIL",about:"A PROPOS",projects:"NOS PROJETS",contact:"CONTACT",contactTitle:"Contact",address:"Avenue de l'environnement, Sousse, Tunisia, 4000",followUs:"Suivez-nous",stayConnected:"Restez connectés avec nous pour des mises à jour et des offres exclusives.",copyright:"© Copyright",rightsReserved:"tous droits réservés"},Tt={aboutUs:"A PROPOS DE NOUS",description1:"La société",cogebImmobiliere:"COGEB IMMOBILIERE",description2:", fondée en 1999 et dirigée par Monsieur",mohamedLazreg:"Mohamed LAZREG",description3:", est agréée par le ministère de l’équipement de l’habitat et de l’aménagement du territoire. Son objectif principal est de développer des projets immobiliers de haute qualité en sélectionnant soigneusement les sites, en concevant des espaces répondant aux besoins des clients, et en garantissant un cadre de vie amélioré. Elle dispose d'une équipe compétente, notamment des architectes, bureaux d'études et de contrôle, qui accordent une attention particulière à l'architecture de ses bâtiments, devenus des références dans le domaine."},_t={projectsTitle:"NOS PROJETS",seeMore:"Voir plus"},Lt={placeholder:"E-MAIL",submit:"ENVOYER"},Ot={visitOffice:"Visitez le bureau",address:"Route de l'environnement 4000, Sousse, Tunisie",email:"E-MAIL",emailAddress:"contact@cogeb-immobiliere.com",chatWithUs:"Discutez avec nous",website:"www.Cogeb-immobiliere.com"},Ut={nameLabel:"NOM ET PRENOM",emailLabel:"EMAIL",phoneLabel:"TELEPHONE",projectLabel:"PROJET",messagePlaceholder:"Message",submitButton:"Envoyer un message"},Rt={placeholder:"Rechercher...",clear_search:"Effacer Recherche",type:"Type:",all:"Tous",future:"Future",en_cours:"En cours",terminee:"Terminé",amenities:"Équipements:",parking:"Parking",bureau:"Bureau",no_results:"Désolé, aucune annonce trouvée",searching:"Searching..."},It={navbar:Nt,card1:vt,homeHeader:yt,projects:wt,card2:At,album:kt,card3:St,stateCard:Et,contact:Ct,footer:Pt,card1about:Tt,allproject:_t,newsletter:Lt,contactHeader:Ot,form:Ut,search:Rt};Re.use(bs).init({resources:{en:{translation:bt},fr:{translation:It}},lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});const Ft=ue.lazy(()=>ve(()=>import("./Homee-9416a62d.js"),["assets/Homee-9416a62d.js","assets/vendor-2eff087f.js","assets/vendor-3b590169.css","assets/StateCardAbout-dfa5dd6d.js","assets/webe1-6a5a35a5.js","assets/Homee-01549b14.css"])),Dt=ue.lazy(()=>ve(()=>import("./About-15fd2922.js"),["assets/About-15fd2922.js","assets/vendor-2eff087f.js","assets/vendor-3b590169.css","assets/StateCardAbout-dfa5dd6d.js","assets/Newsetter-adf12c47.js"])),Mt=ue.lazy(()=>ve(()=>import("./Contact-55d35d4d.js"),["assets/Contact-55d35d4d.js","assets/vendor-2eff087f.js","assets/vendor-3b590169.css","assets/webe1-6a5a35a5.js","assets/Newsetter-adf12c47.js"]));function $t(){return e.jsx(e.Fragment,{children:e.jsxs(Ns,{children:[e.jsx(st,{}),e.jsx(tt,{fallback:e.jsx("p",{children:"Une erreur s'est produite. Verifier votre connexion internet"}),children:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Chargement..."}),children:e.jsxs(vs,{children:[e.jsx(D,{path:"/login",element:e.jsx(zs,{})}),e.jsx(D,{path:"/",element:e.jsx(Ft,{})}),e.jsx(D,{path:"/projects/:id",element:e.jsx(Qs,{})}),e.jsx(D,{path:"/searchProject?",element:e.jsx(et,{})}),e.jsx(D,{path:"/apropos",element:e.jsx(Dt,{})}),e.jsx(D,{path:"/contact",element:e.jsx(Mt,{})}),e.jsxs(D,{element:e.jsx(Ws,{}),children:[e.jsx(D,{path:"/profile",element:e.jsx(Gs,{})}),e.jsx(D,{path:"/create_project",element:e.jsx(Zs,{})}),e.jsx(D,{path:"/update_project/:id",element:e.jsx(Ys,{})})]})]})})})]})})}const Bt=ys({user:Is,search:Js}),zt={key:"root",storage:Ss,whitelist:["user"]},qt=ws(zt,Bt),ze=As({reducer:qt,middleware:s=>s({serializableCheck:!1})}),Vt=ks(ze);Es.createRoot(document.getElementById("root")).render(e.jsx(Cs,{store:ze,children:e.jsx(Ps,{loading:null,persistor:Vt,children:e.jsx(Ts,{i18n:Re,children:e.jsx($t,{})})})}));export{tt as E,xe as F,Be as P,Ks as S,Xs as a};
